# 04. 화면별 상세 설계

## 화면 목록

```
총 35개 화면
├── 인증 (5개): 로그인, 회원가입, 비밀번호찾기, 동의, 약관
├── 메인탭 (4개): 구인구직, 내스케줄, QR, 프로필
├── 구인구직 상세 (2개): 공고상세, 지원하기
├── 스케줄 상세 (1개): 스케줄상세
├── 설정 (4개): 메인, 보안, 알림설정, 계정
├── 기타 (2개): 알림, 고객센터
├── 공고관리-매니저 (7개): 목록, 작성, 상세, 지원자, 확정, 시프트, 정산
└── 관리자 (4개): 사용자, 문의, 승인, 칩
```

---

## 1. 인증 화면

### 1.1 로그인 화면
```
┌─────────────────────────────────────┐
│         ← (뒤로가기 없음)            │
├─────────────────────────────────────┤
│                                     │
│              [LOGO]                 │
│              UNIQN                  │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 📧 이메일                    │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 🔒 비밀번호              👁  │   │
│  └─────────────────────────────┘   │
│                                     │
│  [     로그인하기 (Primary)     ]   │
│                                     │
│        비밀번호를 잊으셨나요?        │
│                                     │
│  ─────────── 또는 ───────────      │
│                                     │
│  [ G  Google로 계속하기 ]           │
│                                     │
│                                     │
│       계정이 없으신가요? 회원가입     │
│                                     │
└─────────────────────────────────────┘
```

**기능 요구사항:**
- 이메일/비밀번호 로그인
- Google 소셜 로그인
- 비밀번호 표시/숨김 토글
- 로그인 실패 시 에러 메시지 (Toast)
- 패널티 유저 차단 (LoginBlockedModal → BottomSheet)
- 자동 로그인 (AsyncStorage)

**상태:**
- `email`, `password` - 폼 입력
- `isLoading` - 로그인 진행 중
- `showPassword` - 비밀번호 표시 여부

**개선점 (기존 대비):**
- 6개 useState → useForm 훅 1개로 통합
- 에러 처리 표준화
- LoginBlockedModal → BottomSheet로 변경

---

### 1.2 회원가입 화면
```
┌─────────────────────────────────────┐
│  ←                     회원가입      │
├─────────────────────────────────────┤
│                                     │
│  Step 1/3: 계정 정보                │
│  ━━━━━━━━━━○○                       │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 📧 이메일                    │   │
│  └─────────────────────────────┘   │
│  ✓ 사용 가능한 이메일입니다          │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 🔒 비밀번호              👁  │   │
│  └─────────────────────────────┘   │
│  영문, 숫자 포함 8자 이상            │
│  ✓ 영문 ✓ 숫자 ✗ 8자 이상           │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 🔒 비밀번호 확인          👁  │   │
│  └─────────────────────────────┘   │
│                                     │
│  [         다음 (Primary)       ]   │
│                                     │
│        이미 계정이 있으신가요?        │
│                                     │
└─────────────────────────────────────┘
```

**3단계 플로우:**
1. 계정 정보 (이메일, 비밀번호)
2. 프로필 정보 (이름, 전화번호)
3. 약관 동의 (필수/선택)

**개선점:**
- 603줄 단일 파일 → 3개 스텝 컴포넌트로 분리
- 실시간 검증 → 디바운스 + Zod 통합
- 중복 로직 제거

---

### 1.3 비밀번호 찾기
```
┌─────────────────────────────────────┐
│  ←                    비밀번호 찾기  │
├─────────────────────────────────────┤
│                                     │
│         🔐                          │
│    비밀번호를 잊으셨나요?             │
│                                     │
│  가입하신 이메일 주소를 입력하시면     │
│  비밀번호 재설정 링크를 보내드립니다.  │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 📧 이메일                    │   │
│  └─────────────────────────────┘   │
│                                     │
│  [    재설정 링크 보내기         ]   │
│                                     │
│                                     │
│         로그인으로 돌아가기          │
│                                     │
└─────────────────────────────────────┘
```

---

## 2. 메인 탭 화면

### 2.1 구인구직 (홈 탭)
```
┌─────────────────────────────────────┐
│  구인구직               🔔 ⚙️       │
├─────────────────────────────────────┤
│  ┌─────────────────────────────┐   │
│  │ 🔍 검색어를 입력하세요...    │   │
│  └─────────────────────────────┘   │
│                                     │
│  [일반] [고정] [내지원] ← Tabs      │
│  ━━━━━ ───── ─────                 │
│                                     │
│  📍 서울 전체  📅 전체  💰 전체  🎯  │  ← 필터 칩
│                                     │
│  ┌─────────────────────────────┐   │
│  │ [긴급] 강남 홀덤펍           │   │
│  │ 📍 강남구 · 💰 20만원/일     │   │
│  │ 📅 12/20(금)               │   │
│  │ 👥 딜러 2명, 서버 1명        │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 홍대 포커클럽                │   │
│  │ 📍 마포구 · 💰 18만원/일     │   │
│  │ 📅 12/21(토) - 12/22(일)    │   │
│  │ 👥 딜러 3명                 │   │
│  └─────────────────────────────┘   │
│                                     │
│  ... (FlashList 가상화)            │
│                                     │
├─────────────────────────────────────┤
│  [🏠홈] [📅스케줄] [📱QR] [👤프로필] │
└─────────────────────────────────────┘
```

**탭 구조:**
- 일반공고: 날짜 지정 공고
- 고정공고: 정기 근무 공고
- 내지원: 지원한 공고 목록

**필터 (BottomSheet):**
- 지역 (시/구)
- 급여 범위
- 날짜 범위
- 공고 유형
- 역할 (딜러, 서버 등)

**개선점:**
- 가상 스크롤 FlashList 적용
- 필터 상태 filterStore로 분리
- 검색 디바운스 적용

---

### 2.2 내 스케줄 탭
```
┌─────────────────────────────────────┐
│  내 스케줄                    🗓️    │
├─────────────────────────────────────┤
│                                     │
│  ┌─────────────────────────────┐   │
│  │     ◀  2024년 12월  ▶       │   │
│  │  일  월  화  수  목  금  토  │   │
│  │                          1  │   │
│  │  2   3   4   5   6   7   8  │   │
│  │  9  10  11  12  13 [14] 15  │   │
│  │ 16  17  18  19  20• 21• 22  │   │
│  │ 23  24  25  26  27  28  29  │   │
│  │ 30  31                      │   │
│  └─────────────────────────────┘   │
│                                     │
│  12월 예정 일정                      │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 🟢 12/20(금) 강남 홀덤펍      │   │
│  │    확정 · 딜러 · 18:00-02:00 │   │
│  │    💰 200,000원              │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 🟡 12/21(토) 홍대 포커클럽    │   │
│  │    대기 · 딜러 · 19:00-03:00 │   │
│  └─────────────────────────────┘   │
│                                     │
├─────────────────────────────────────┤
│        이번 달 통계                  │
│  📅 5일  💰 1,200,000원  ⏱️ 42시간  │
└─────────────────────────────────────┘
```

**기능:**
- 캘린더 뷰 (월별)
- 일정 목록 (날짜별 그룹)
- 통계 (일수, 급여, 시간)
- 상태별 필터 (확정, 대기, 완료)

**상태 색상:**
- 🟢 확정 (confirmed)
- 🟡 대기 (pending/applied)
- 🔵 완료 (completed)
- ⚫ 취소 (cancelled)

**개선점:**
- 4개 데이터 소스 병합 로직 → scheduleService로 캡슐화
- 중복 제거 로직 단순화
- 캘린더 라이브러리: `react-native-calendars`

---

### 2.3 QR 코드 탭
```
┌─────────────────────────────────────┐
│  출석 QR                            │
├─────────────────────────────────────┤
│                                     │
│                                     │
│        ┌───────────────┐           │
│        │               │           │
│        │   [QR CODE]   │           │
│        │               │           │
│        │               │           │
│        └───────────────┘           │
│                                     │
│          홍길동 (딜러)               │
│                                     │
│        ⏱️ 02:45 후 갱신             │
│                                     │
│        [   🔄 새로고침   ]          │
│                                     │
│                                     │
│  ─────────────────────────────────  │
│                                     │
│  💡 QR 코드를 매니저에게 보여주세요   │
│     출석 확인에 사용됩니다.          │
│                                     │
│                                     │
│  ⚠️ QR 재발급: 3/5회 사용           │
│     [   QR 재발급하기   ]           │
│                                     │
└─────────────────────────────────────┘
```

**기능:**
- 3분마다 자동 갱신되는 QR
- 수동 새로고침
- 재발급 (횟수 제한)
- 카운트다운 타이머

**개선점:**
- 3개 인터벌 → 단일 useInterval 훅
- QR 라이브러리: `react-native-qrcode-svg`

---

### 2.4 프로필 탭
```
┌─────────────────────────────────────┐
│  프로필                      ✏️     │
├─────────────────────────────────────┤
│                                     │
│          ┌─────────┐               │
│          │  📷     │               │
│          │ [사진]  │               │
│          └─────────┘               │
│                                     │
│           홍길동                    │
│        @hong_gildong               │
│           ⭐ 4.8 (32)              │
│                                     │
├─────────────────────────────────────┤
│  기본 정보                          │
│  ┌─────────────────────────────┐   │
│  │ 이름        홍길동           │   │
│  │ 닉네임      길동이           │   │
│  │ 전화번호    010-1234-5678   │   │
│  │ 이메일      hong@email.com  │   │
│  └─────────────────────────────┘   │
│                                     │
│  경력 정보                          │
│  ┌─────────────────────────────┐   │
│  │ 경력        3년 이상         │   │
│  │ 주요 역할   딜러, 플로어     │   │
│  │ 활동 지역   서울, 경기       │   │
│  └─────────────────────────────┘   │
│                                     │
│  정산 정보 🔒                       │
│  ┌─────────────────────────────┐   │
│  │ 은행        국민은행         │   │
│  │ 계좌번호    ****-****-1234  │   │
│  └─────────────────────────────┘   │
│                                     │
└─────────────────────────────────────┘
```

**기능:**
- 프로필 이미지 변경
- 기본 정보 수정
- 경력/역할 설정
- 정산 정보 (마스킹)

**개선점:**
- 775줄 → View/Edit 모드 분리
- 이미지 업로드: `expo-image-picker`

---

## 3. 설정 화면

### 3.1 설정 메인
```
┌─────────────────────────────────────┐
│  ←                       설정       │
├─────────────────────────────────────┤
│                                     │
│  계정                               │
│  ┌─────────────────────────────┐   │
│  │ 👤 프로필 관리            ▶ │   │
│  │ 🔐 보안 설정              ▶ │   │
│  │ 🔔 알림 설정              ▶ │   │
│  └─────────────────────────────┘   │
│                                     │
│  앱 설정                            │
│  ┌─────────────────────────────┐   │
│  │ 🌙 다크모드       [Toggle]   │   │
│  │ 🌐 언어          한국어   ▶ │   │
│  └─────────────────────────────┘   │
│                                     │
│  지원                               │
│  ┌─────────────────────────────┐   │
│  │ ❓ 고객센터                ▶ │   │
│  │ 📜 이용약관                ▶ │   │
│  │ 🔒 개인정보처리방침         ▶ │   │
│  │ ℹ️ 앱 버전        v1.0.0    │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 🚪 로그아웃                  │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ ⚠️ 계정 삭제                 │   │  ← 위험 영역
│  └─────────────────────────────┘   │
│                                     │
└─────────────────────────────────────┘
```

---

## 4. 공고 관리 (매니저)

### 4.1 내 공고 목록
```
┌─────────────────────────────────────┐
│  ←                   내 공고 관리    │
├─────────────────────────────────────┤
│                                     │
│  [진행중] [마감] [대기]  ← 상태필터   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 강남 홀덤펍 금요 이벤트       │   │
│  │ 📅 12/20 · 👥 3/5명 확정    │   │
│  │ 🟢 진행중                    │   │
│  │ ─────────────────────────   │   │
│  │ [지원자 12] [확정 3] [정산]  │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 주말 정기 공고               │   │
│  │ 📅 매주 토/일 · 고정공고     │   │
│  │ 🟡 승인대기                  │   │
│  └─────────────────────────────┘   │
│                                     │
│                                     │
├─────────────────────────────────────┤
│        [ + 새 공고 작성 ]           │  ← FAB
└─────────────────────────────────────┘
```

### 4.2 공고 작성 (멀티 스텝)
```
┌─────────────────────────────────────┐
│  ←                     새 공고 작성  │
├─────────────────────────────────────┤
│                                     │
│  Step 2/5: 근무 조건                │
│  ○━━━━━●━━━━━○━━━━━○━━━━━○          │
│                                     │
│  근무 날짜 *                        │
│  ┌─────────────────────────────┐   │
│  │ 📅 2024-12-20 (금)          │   │
│  └─────────────────────────────┘   │
│  [ + 날짜 추가 ]                    │
│                                     │
│  근무 시간 *                        │
│  ┌───────────┐  ┌───────────┐     │
│  │ 시작 18:00 │  │ 종료 02:00│     │
│  └───────────┘  └───────────┘     │
│                                     │
│  모집 역할 *                        │
│  ┌─────────────────────────────┐   │
│  │ 딜러   │ 2명 │ 200,000원/일 │   │
│  │ 서버   │ 1명 │ 150,000원/일 │   │
│  └─────────────────────────────┘   │
│  [ + 역할 추가 ]                    │
│                                     │
│                                     │
│  ─────────────────────────────────  │
│  [   이전   ]        [   다음   ]   │
│                                     │
└─────────────────────────────────────┘
```

**5단계 작성 플로우:**
1. 기본 정보 (제목, 설명, 위치)
2. 근무 조건 (날짜, 시간, 역할)
3. 급여 설정 (역할별 급여)
4. 추가 정보 (혜택, 요구사항)
5. 사전 질문 (선택)

**개선점:**
- 단일 대형 폼 → 멀티 스텝 위자드
- 각 스텝 독립 검증
- 임시 저장 기능 (AsyncStorage)

---

### 4.3 지원자 관리 탭
```
┌─────────────────────────────────────┐
│  ←  강남 홀덤펍         지원자 관리  │
├─────────────────────────────────────┤
│                                     │
│  [전체 12] [대기 8] [확정 3] [거절 1]│
│                                     │
│  ☑️ 전체 선택 (3/8)     [일괄 확정]  │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ ☑️ 김철수                   │   │
│  │    ⭐ 4.9 · 딜러 5년 · 서울  │   │
│  │    희망: 딜러               │   │
│  │    ──────────────────────   │   │
│  │    [프로필] [질문답변] [확정]│   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ ☐ 이영희                   │   │
│  │    ⭐ 4.7 · 서버 3년 · 경기  │   │
│  │    희망: 서버               │   │
│  │    ──────────────────────   │   │
│  │    [프로필] [질문답변] [확정]│   │
│  └─────────────────────────────┘   │
│                                     │
│  ... 더보기                         │
│                                     │
└─────────────────────────────────────┘
```

**기능:**
- 지원자 목록 (상태별 필터)
- 다중 선택
- 일괄 확정/거절
- 프로필 상세 (BottomSheet)
- 사전질문 답변 보기

---

### 4.4 확정 스태프 탭
```
┌─────────────────────────────────────┐
│  ←  강남 홀덤펍           확정 스태프│
├─────────────────────────────────────┤
│                                     │
│  12/20(금) 근무자                   │
│                                     │
│  딜러 (2/2)                         │
│  ┌─────────────────────────────┐   │
│  │ 김철수     출석: 18:02      │   │
│  │ ⭐ 4.9    퇴근: -           │   │
│  │ [메시지] [출석취소]          │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 박민수     미출석            │   │
│  │ ⭐ 4.5                      │   │
│  │ [메시지] [QR스캔]            │   │
│  └─────────────────────────────┘   │
│                                     │
│  서버 (1/1)                         │
│  ┌─────────────────────────────┐   │
│  │ 이영희     출석: 17:55      │   │
│  │ ⭐ 4.7    퇴근: -           │   │
│  └─────────────────────────────┘   │
│                                     │
│  ─────────────────────────────────  │
│  [ 📷 QR 스캔하여 출석체크 ]        │
│                                     │
└─────────────────────────────────────┘
```

---

### 4.5 정산 탭
```
┌─────────────────────────────────────┐
│  ←  강남 홀덤펍               정산   │
├─────────────────────────────────────┤
│                                     │
│  정산 요약                          │
│  ┌─────────────────────────────┐   │
│  │ 총 급여        │   650,000원 │   │
│  │ 참여 인원      │       3명   │   │
│  │ 평균 근무시간   │      7.5h   │   │
│  └─────────────────────────────┘   │
│                                     │
│  개인별 정산                        │
│  ┌─────────────────────────────┐   │
│  │ 김철수 (딜러)               │   │
│  │ 18:02 - 02:15 (8h 13m)      │   │
│  │ 기본급: 200,000 + 연장: 20,000│  │
│  │ ───────────────────────     │   │
│  │ 💰 220,000원    [정산완료 ✓] │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 박민수 (딜러)               │   │
│  │ 18:30 - 02:00 (7h 30m)      │   │
│  │ 기본급: 200,000             │   │
│  │ ───────────────────────     │   │
│  │ 💰 200,000원    [정산하기]   │   │
│  └─────────────────────────────┘   │
│                                     │
│  ─────────────────────────────────  │
│  [    전체 정산 완료하기    ]       │
│                                     │
└─────────────────────────────────────┘
```

---

## 5. 관리자 화면

### 5.1 사용자 관리
```
┌─────────────────────────────────────┐
│  ←                     사용자 관리   │
├─────────────────────────────────────┤
│  ┌─────────────────────────────┐   │
│  │ 🔍 이름, 이메일 검색...      │   │
│  └─────────────────────────────┘   │
│                                     │
│  [전체] [관리자] [매니저] [스태프]   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 👤 홍길동                   │   │
│  │    hong@email.com          │   │
│  │    📱 manager · 가입: 23.05 │   │
│  │    ─────────────────────   │   │
│  │    [상세] [역할변경] [패널티]│   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 👤 김철수       ⚠️ 패널티    │   │
│  │    kim@email.com           │   │
│  │    📱 staff · 가입: 24.01   │   │
│  │    ─────────────────────   │   │
│  │    [상세] [패널티해제]       │   │
│  └─────────────────────────────┘   │
│                                     │
│  ...                               │
│                                     │
└─────────────────────────────────────┘
```

---

### 5.2 문의 관리
```
┌─────────────────────────────────────┐
│  ←                       문의 관리   │
├─────────────────────────────────────┤
│                                     │
│  [전체] [대기 5] [처리중] [완료]     │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 🔴 결제 관련 문의            │   │
│  │    김철수 · 2시간 전         │   │
│  │    칩 충전이 안됩니다...     │   │
│  │    ─────────────────────   │   │
│  │    상태: 대기중              │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 🟡 계정 문의                │   │
│  │    이영희 · 1일 전          │   │
│  │    비밀번호 변경이...        │   │
│  │    ─────────────────────   │   │
│  │    상태: 처리중              │   │
│  └─────────────────────────────┘   │
│                                     │
│  ...                               │
│                                     │
└─────────────────────────────────────┘
```

---

## 6. 모달/시트 설계

### 6.1 모달 유형
```
┌──────────────────────────────────────────────────────┐
│  모달 유형                                            │
├──────────────────────────────────────────────────────┤
│                                                      │
│  1. Alert Modal (경고/알림)                           │
│     - 단순 메시지 + 확인 버튼                          │
│     - 예: "저장되었습니다"                             │
│                                                      │
│  2. Confirm Modal (확인)                              │
│     - 메시지 + 취소/확인 버튼                          │
│     - 예: "정말 삭제하시겠습니까?"                      │
│                                                      │
│  3. Bottom Sheet (선택/상세)                          │
│     - 하단에서 올라오는 시트                           │
│     - 예: 필터 선택, 상세 정보                         │
│                                                      │
│  4. Full Screen Modal (전체화면)                      │
│     - 전체 화면 모달                                  │
│     - 예: 이미지 뷰어, 긴 폼                          │
│                                                      │
└──────────────────────────────────────────────────────┘
```

### 6.2 주요 모달 목록
| 이름 | 유형 | 사용처 |
|------|------|--------|
| ConfirmModal | Confirm | 삭제, 확정, 거절 확인 |
| JobDetailSheet | BottomSheet | 공고 상세 보기 |
| ApplySheet | BottomSheet | 지원하기 |
| FilterSheet | BottomSheet | 필터 선택 |
| ProfileSheet | BottomSheet | 스태프 프로필 |
| PreQuestionSheet | BottomSheet | 사전질문 답변 |
| PenaltyModal | Confirm | 패널티 부여 |
| ImageViewer | FullScreen | 이미지 확대 |
| ScheduleDetailSheet | BottomSheet | 스케줄 상세 |

---

## 7. 화면 간 데이터 흐름

```
┌─────────────────────────────────────────────────────────────┐
│                      데이터 흐름                             │
└─────────────────────────────────────────────────────────────┘

구인구직 목록
    │
    │ jobId
    ▼
공고 상세 (Sheet)
    │
    │ jobId + applicationData
    ▼
지원하기 (Sheet)
    │
    │ mutation: applyToJob
    ▼
성공 → 캐시 무효화 → 목록/내지원 갱신
    │
    │ 자동 반영
    ▼
내 스케줄에 표시

───────────────────────────────────────────

공고 관리 목록
    │
    │ jobId (route param)
    ▼
지원자 탭
    │
    │ applicantId
    ▼
확정 → 캐시 무효화 → 확정탭 갱신
    │
    │ 스태프 알림 발송
    ▼
스태프 내스케줄 갱신
```
