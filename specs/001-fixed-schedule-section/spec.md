# Feature Specification: 고정공고 근무일정 입력 섹션

**Feature Branch**: `001-fixed-schedule-section`
**Created**: 2025-11-23
**Status**: Draft
**Input**: User description: "고정공고 작성 폼에서 근무 일정을 입력받는 섹션을 구현합니다. 기존 JobPostingForm의 Props Grouping 패턴과 섹션 구조를 따릅니다."

## Clarifications

### Session 2025-11-23

- Q: 역할을 하나도 추가하지 않고 폼을 제출하려 할 때 어떻게 처리하나요? → A: 역할이 최소 1개 이상 필요하며, 없으면 폼 제출을 차단하고 오류 메시지를 표시
- Q: 주 출근일수 범위 초과 시 처리 방식은? → A: HTML5 input min/max 속성으로 1-7 범위 외 입력을 물리적으로 차단
- Q: 인원수 0 또는 음수 입력 처리는? → A: HTML5 input min="1" 속성으로 1 미만 입력을 물리적으로 차단

## User Scenarios & Testing *(mandatory)*

### User Story 1 - 기본 근무 일정 입력 (Priority: P1)

관리자가 고정공고를 작성할 때, 주 출근일수와 근무 시간대를 입력할 수 있어야 합니다. 이는 지원자들이 근무 조건을 명확히 파악하는 데 필수적인 정보입니다.

**Why this priority**: 근무 일정은 구인공고의 핵심 정보이며, 이 정보 없이는 지원자가 적합성을 판단할 수 없습니다.

**Independent Test**: 고정공고 작성 폼에서 주 출근일수(1-7), 시작시간, 종료시간을 입력하고 저장하여 데이터가 정상적으로 저장되는지 확인합니다.

**Acceptance Scenarios**:

1. **Given** 관리자가 고정공고 작성 폼에 접근했을 때, **When** 근무일정 섹션에서 주 출근일수를 5로 입력하고, **Then** 1-7 범위 내의 숫자만 입력 가능하고 입력값이 표시됩니다.
2. **Given** 관리자가 근무 시작시간을 선택할 때, **When** 시간 선택기에서 18:00을 선택하고, **Then** 선택한 시간이 HH:mm 형식으로 표시됩니다.
3. **Given** 관리자가 근무 종료시간을 선택할 때, **When** 시간 선택기에서 02:00을 선택하고, **Then** 익일 새벽 시간도 정상적으로 입력됩니다.

---

### User Story 2 - 역할별 필요 인원 설정 (Priority: P1)

관리자가 고정공고에 필요한 각 역할과 인원수를 동적으로 추가/삭제할 수 있어야 합니다. 토너먼트마다 필요한 역할 구성이 다르므로 유연한 입력이 필요합니다.

**Why this priority**: 역할별 인원은 채용 규모와 직무를 명확히 하는 핵심 정보로, 이 없이는 구인공고가 불완전합니다.

**Independent Test**: 역할 추가 버튼을 클릭하여 딜러 2명, 플로어 1명, 서빙 3명을 추가하고, 추가된 항목이 리스트에 표시되는지 확인합니다.

**Acceptance Scenarios**:

1. **Given** 관리자가 역할 입력 섹션에 있을 때, **When** "역할 추가" 버튼을 클릭하고, **Then** 새로운 역할 입력 필드(역할 선택 + 인원수)가 추가됩니다.
2. **Given** 역할 선택 드롭다운이 열렸을 때, **When** 사용 가능한 역할 목록을 보고, **Then** 딜러, 플로어, 칩러너, 서빙, 기타 옵션이 표시됩니다.
3. **Given** 역할이 하나 이상 추가된 상태에서, **When** 특정 역할의 삭제 버튼을 클릭하고, **Then** 해당 역할 항목이 리스트에서 제거됩니다.
4. **Given** 관리자가 역할을 선택했을 때, **When** 인원수 필드에 3을 입력하고, **Then** 양의 정수만 입력 가능하고 입력값이 표시됩니다.

---

### User Story 3 - 다크모드 지원 (Priority: P2)

사용자가 다크모드를 활성화한 경우에도 근무일정 섹션의 모든 입력 필드와 레이블이 명확하게 표시되어야 합니다.

**Why this priority**: 사용자 경험 일관성을 위해 필요하지만, 기능적으로는 라이트모드로도 작업 가능합니다.

**Independent Test**: 시스템 다크모드를 활성화하고 근무일정 섹션의 모든 입력 필드가 적절한 대비와 가독성을 유지하는지 확인합니다.

**Acceptance Scenarios**:

1. **Given** 사용자가 다크모드를 활성화한 상태에서, **When** 근무일정 섹션을 보고, **Then** 모든 입력 필드, 레이블, 버튼이 dark: 클래스를 통해 적절한 배경색과 텍스트 색상으로 표시됩니다.
2. **Given** 다크모드에서 입력 필드에 포커스가 있을 때, **When** 사용자가 값을 입력하고, **Then** 입력 텍스트가 충분한 대비로 명확하게 보입니다.

---

### Edge Cases

- **주 출근일수 범위 초과**: HTML5 input min="1" max="7" 속성으로 1-7 범위 외 입력을 물리적으로 차단합니다.
- **시간 역전**: 종료시간이 시작시간보다 이른 경우 (예: 시작 23:00, 종료 02:00)는 정상적인 야간 근무로 처리됩니다.
- **역할 중복**: 동일한 역할을 여러 번 추가할 수 있나요? (허용: 예를 들어 딜러 3명, 딜러 2명 식으로 나눌 수 있음)
- **역할 미입력**: 역할을 하나도 추가하지 않은 상태에서 폼 제출 시, 최소 1개 이상의 역할이 필요하다는 오류 메시지를 표시하고 제출을 차단합니다.
- **인원수 0 또는 음수**: HTML5 input min="1" 속성으로 1 미만(0 또는 음수) 입력을 물리적으로 차단합니다.

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: 시스템은 사용자가 주 출근일수를 1-7 범위 내의 정수로 입력할 수 있어야 합니다.
- **FR-002**: 시스템은 사용자가 근무 시작시간과 종료시간을 HH:mm 형식으로 입력할 수 있어야 합니다.
- **FR-003**: 시스템은 사용자가 역할(딜러, 플로어, 칩러너, 서빙, 기타)을 선택하고 해당 역할의 필요 인원수를 입력할 수 있어야 합니다.
- **FR-004**: 시스템은 사용자가 역할과 인원을 동적으로 추가할 수 있는 버튼을 제공해야 합니다.
- **FR-005**: 시스템은 사용자가 추가된 역할 항목을 개별적으로 삭제할 수 있는 버튼을 제공해야 합니다.
- **FR-006**: 시스템은 모든 입력 필드가 다크모드에서 적절한 색상 대비를 유지하도록 dark: 클래스를 적용해야 합니다.
- **FR-007**: 시스템은 모든 입력 필드에 레이블을 제공하여 접근성 표준을 준수해야 합니다.
- **FR-008**: 시스템은 주 출근일수 입력 필드에 HTML5 min="1" max="7" 속성을 적용하여 범위 외 입력을 물리적으로 차단해야 합니다.
- **FR-009**: 시스템은 인원수 필드에 HTML5 min="1" 속성을 적용하여 양의 정수만 입력되도록 제한해야 합니다.
- **FR-010**: 시스템은 역할이 최소 1개 이상 추가되지 않은 경우 폼 제출을 차단하고 오류 메시지를 표시해야 합니다.
- **FR-011**: 시스템은 입력된 근무일정과 역할 정보를 상위 폼 컴포넌트에 전달하여 폼 데이터에 포함시켜야 합니다.

### Key Entities

- **WorkSchedule**: 주 출근일수(daysPerWeek), 근무 시작시간(startTime), 근무 종료시간(endTime)을 포함하는 근무 일정 정보
- **RoleWithCount**: 역할 유형(role: 딜러/플로어/칩러너/서빙/기타)과 필요 인원수(count)를 포함하는 역할별 인원 정보

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: 관리자가 근무일정 섹션에서 주 출근일수, 시작시간, 종료시간을 입력하고 저장하는 과정을 1분 이내에 완료할 수 있습니다.
- **SC-002**: 관리자가 역할과 인원을 5개까지 추가/삭제하는 과정을 2분 이내에 완료할 수 있습니다.
- **SC-003**: 다크모드에서 모든 입력 필드가 WCAG 2.1 AA 수준의 색상 대비(최소 4.5:1)를 만족합니다.
- **SC-004**: 스크린 리더 사용자가 모든 입력 필드의 레이블을 정확히 인식하고 입력할 수 있습니다.
- **SC-005**: 잘못된 입력(범위 초과, 음수 등)에 대해 사용자가 즉시 피드백을 받고 수정할 수 있습니다.

## Assumptions

- **기존 JobPostingForm 구조**: Props Grouping 패턴과 섹션별 컴포넌트 분리 구조가 이미 구현되어 있습니다.
- **타입 정의**: WorkSchedule과 RoleWithCount 타입이 프로젝트의 타입 시스템에 정의되어 있거나 정의될 것입니다.
- **폼 제출 로직**: 상위 폼 컴포넌트에 데이터를 전달하는 핸들러(onWorkScheduleChange, onRolesChange)가 존재합니다.
- **역할 목록**: 딜러, 플로어, 칩러너, 서빙, 기타가 표준 역할 목록으로 정의되어 있습니다.
- **시간 입력**: HTML5 time input을 사용하여 브라우저 네이티브 시간 선택기를 활용합니다.
- **야간 근무**: 종료시간이 시작시간보다 이른 경우(예: 18:00 - 02:00)는 정상적인 야간 근무로 간주합니다.

## Dependencies

- **기존 컴포넌트**: JobPostingForm, BasicInfoSection, SalarySection 등 기존 섹션 컴포넌트의 패턴 준수
- **Hook**: useJobPostingForm Hook 확장 필요
- **타입 시스템**: TypeScript strict mode 준수, WorkSchedule 및 RoleWithCount 타입 정의
- **스타일링**: Tailwind CSS dark: 클래스 시스템
- **접근성**: WCAG 2.1 AA 표준 준수

## Out of Scope

- **역할 커스터마이징**: "기타" 이외의 사용자 정의 역할 추가 기능 (향후 확장 가능)
- **근무일 선택**: 특정 요일(월, 화, 수 등) 선택 기능 (주 출근일수만 입력)
- **복수 시간대**: 여러 근무 시간대 입력 (단일 시작-종료 시간만 지원)
- **역할별 급여 차등**: 역할별로 다른 급여 설정 (SalarySection에서 처리)
- **유효성 검증 메시지 커스터마이징**: 표준 HTML5 유효성 검증 메시지 사용
