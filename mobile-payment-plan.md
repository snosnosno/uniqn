# UNIQN ëª¨ë°”ì¼ì•± ê³¼ê¸ˆ ì‹œìŠ¤í…œ v4

## ê°œìš”

### ì„¤ê³„ ì›ì¹™
```
1. ì´ì¤‘ ì¬í™”: ğŸ’– í•˜íŠ¸(í™œë™) + ğŸ’ ë‹¤ì´ì•„(ì¶©ì „) â†’ ë²Œì–´ì„œ ì“°ê±°ë‚˜ ì‚¬ì„œ ì“°ê±°ë‚˜
2. ê¸°ë³¸ ë¬´ë£Œ: ë§¤ì¼ ì ‘ì†/ê³µìœ /ë¦¬ë·°í•˜ë©´ ê¸°ë³¸ ì‚¬ìš©ëŸ‰ ë¬´ë£Œ ì»¤ë²„
3. ìŠ¤íŒ¸ ë°©ì§€: ì¬í™” ì—†ì´ëŠ” ê³µê³  ë“±ë¡ ë¶ˆê°€ â†’ í™œë™ ì—†ëŠ” ê³„ì • ì°¨ë‹¨
4. ë¦¬í…ì…˜: ë§¤ì¼ ì ‘ì†/ê³µìœ /ë¦¬ë·° â†’ í•˜íŠ¸ ë³´ìƒ â†’ ì¬ë°©ë¬¸ ìœ ë„
5. ìˆ˜ìµí™”: í—¤ë¹„ ìœ ì € or ë¹„í™œì„± ìœ ì € â†’ ë‹¤ì´ì•„ êµ¬ë§¤
6. ì–‘ë©´ ì°¸ì—¬: êµ¬ì¸ì + ìŠ¤íƒœí”„ ëª¨ë‘ ë²Œê³  ì“´ë‹¤
```

### ì¬í™” êµ¬ì¡°

| | ğŸ’– í•˜íŠ¸ | ğŸ’ ë‹¤ì´ì•„ |
|--|---------|----------|
| **íšë“** | ì ‘ì†, ê³µìœ , ë¦¬ë·°, ì—°ì†ë³´ë„ˆìŠ¤ | ìŠ¤í† ì–´ ì¶©ì „ |
| **ë§Œë£Œ** | 90ì¼ | ë¬´ê¸°í•œ |
| **í™˜ë¶ˆ** | ë¶ˆê°€ | 7ì¼ ì´ë‚´ ê°€ëŠ¥ |
| **ì‚¬ìš©ì²˜** | ëª¨ë“  ê³³ (ê³µê³ , í”„ë¦¬ë¯¸ì—„ ë“±) | ëª¨ë“  ê³³ (í•˜íŠ¸ì™€ ë™ì¼) |
| **ìš°ì„  ì‚¬ìš©** | **1ìˆœìœ„** (ë§Œë£Œ ì„ë°• ìˆœ) | 2ìˆœìœ„ |

- **ê°€ì¹˜**: 1ğŸ’– = 1ğŸ’ = â‚©300 (ë™ì¼ ê°€ì¹˜)
- **êµ¬ë… ì—†ìŒ** â€” ë‹¨ê±´ ì†Œëª¨ êµ¬ì¡°

---

## 1. ğŸ’– í•˜íŠ¸ íšë“ (ë¬´ë£Œ)

### 1.1 ì¼ì¼ í™œë™ ë³´ìƒ

| í™œë™ | ë³´ìƒ | ì¼ì¼ ìƒí•œ | ëŒ€ìƒ | ì„¤ëª… |
|------|:----:|:---------:|:----:|------|
| ì¼ì¼ ì ‘ì† | +1 ğŸ’– | 1íšŒ | ì „ì²´ | í•˜ë£¨ ì²« ì•± ì‹¤í–‰ ì‹œ ìë™ ì§€ê¸‰ |
| ê³µê³  ê³µìœ  (SNS) | +1 ğŸ’– | 1íšŒ | ì „ì²´ | ì¹´ì¹´ì˜¤í†¡/ì¸ìŠ¤íƒ€ ë“± ê³µìœ  ë§í¬ ìƒì„± ì‹œ |
| ìŠ¤íƒœí”„ ë¦¬ë·° ì‘ì„± | +1 ğŸ’– | 2íšŒ | êµ¬ì¸ì | ê·¼ë¬´ ì™„ë£Œ í›„ ìŠ¤íƒœí”„ í‰ê°€ |
| êµ¬ì¸ì ë¦¬ë·° ì‘ì„± | +1 ğŸ’– | 2íšŒ | ìŠ¤íƒœí”„ | ê·¼ë¬´ ì™„ë£Œ í›„ êµ¬ì¸ì/ì—…ì¥ í‰ê°€ |

### 1.2 ì—°ì† ì ‘ì† ë³´ë„ˆìŠ¤

| ì—°ì† ì¼ìˆ˜ | ë³´ë„ˆìŠ¤ | ë¹„ê³  |
|:---------:|:------:|------|
| 7ì¼ | +3 ğŸ’– | ì£¼ê°„ ë³´ë„ˆìŠ¤ |
| 30ì¼ | +10 ğŸ’– | ì›”ê°„ ë³´ë„ˆìŠ¤ |

### 1.3 ì¼íšŒì„± ë³´ë„ˆìŠ¤ (í”„ë¡œëª¨ì…˜ í•˜íŠ¸)

| ì´ë²¤íŠ¸ | ë³´ìƒ | ìœ íš¨ê¸°ê°„ | ëŒ€ìƒ |
|--------|:----:|:--------:|:----:|
| í”„ë¡œí•„ ì™„ì„± (ì‚¬ì§„+ê²½ë ¥+ì†Œê°œ) | +5 ğŸ’– | 90ì¼ | ì „ì²´ |
| ë³¸ì¸ì¸ì¦ ì™„ë£Œ | +5 ğŸ’– | 90ì¼ | ì „ì²´ |
| ì²« ê³µê³  ë“±ë¡ | +3 ğŸ’– | 90ì¼ | êµ¬ì¸ì |
| ì²« ì§€ì› | +3 ğŸ’– | 90ì¼ | ìŠ¤íƒœí”„ |
| ì¹œêµ¬ ì´ˆëŒ€ (ê°€ì… ì™„ë£Œ) | +3 ğŸ’– | 60ì¼ | ì „ì²´ |
| ê´€ë¦¬ì ìˆ˜ë™ ì§€ê¸‰ | ê°€ë³€ | ê°€ë³€ | ì „ì²´ |

### 1.4 ì›”ê°„ ìˆ˜ì… ì‹œë®¬ë ˆì´ì…˜

**ì ê·¹ì  ì‚¬ìš©ì** (ë§¤ì¼ ì ‘ì† + ê³µìœ  + ë¦¬ë·°):
```
ì ‘ì† 30ì¼:         30 ğŸ’–
ê³µìœ  15íšŒ:         15 ğŸ’–
ë¦¬ë·° 10íšŒ:         10 ğŸ’–
ì£¼ê°„ ë³´ë„ˆìŠ¤ Ã—4:    12 ğŸ’–
ì›”ê°„ ë³´ë„ˆìŠ¤ Ã—1:    10 ğŸ’–
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
í•©ê³„:             ~77 ğŸ’–/ì›”
```

**ë³´í†µ ì‚¬ìš©ì** (ì£¼ 5ì¼ ì ‘ì†, ê°€ë” ê³µìœ ):
```
ì ‘ì† 20ì¼:         20 ğŸ’–
ê³µìœ  5íšŒ:           5 ğŸ’–
ë¦¬ë·° 3íšŒ:           3 ğŸ’–
ì£¼ê°„ ë³´ë„ˆìŠ¤ Ã—2:     6 ğŸ’–
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
í•©ê³„:             ~34 ğŸ’–/ì›”
```

**ìµœì†Œ ì‚¬ìš©ì** (ê°€ë” ì ‘ì†):
```
ì ‘ì† 10ì¼:         10 ğŸ’–
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
í•©ê³„:             ~10 ğŸ’–/ì›”
```

---

## 2. ì¬í™” ì†Œë¹„

### 2.1 ê³µê³  ê°€ê²©í‘œ

| íƒ€ì… | ë¹„ìš© | ì›í™” í™˜ì‚° | ê¸°ê°„ |
|------|:----:|:---------:|------|
| regular (ì¼ë°˜) | 1 | â‚©300 | 7ì¼ |
| urgent (ê¸´ê¸‰) | 8 | â‚©2,400 | 7ì¼ + ê¸´ê¸‰íƒ­ ìƒë‹¨ ë…¸ì¶œ |
| fixed (ê³ ì •) | 4 | â‚©1,200 | 7ì¼ |
| tournament (ëŒ€íšŒ) | ê´€ë¦¬ì ì±…ì • | - | ê³µê³  ë§ˆê°ê¹Œì§€ |
| ê¸´ê¸‰ ì „í™˜ | 8 | â‚©2,400 | ì¦‰ì‹œ |

**ê¸°ê°„ ì—°ì¥** (+7ì¼):

| ê³µê³  íƒ€ì… | ì—°ì¥ ë¹„ìš© | ë¹„ê³  |
|----------|:--------:|------|
| regular | 1 | ë“±ë¡ê³¼ ë™ì¼ |
| urgent | 8 | ë“±ë¡ê³¼ ë™ì¼ |
| fixed | 4 | ë“±ë¡ê³¼ ë™ì¼ |

> ğŸ’– í•˜íŠ¸ ë˜ëŠ” ğŸ’ ë‹¤ì´ì•„ë¡œ ê²°ì œ ê°€ëŠ¥ (í•˜íŠ¸ ìš°ì„  ì°¨ê°)

### 2.2 ìŠ¤íƒœí”„ í”„ë¦¬ë¯¸ì—„ ê¸°ëŠ¥

| ê¸°ëŠ¥ | ë¹„ìš© | ê¸°ê°„ | ì„¤ëª… |
|------|:----:|------|------|
| í”„ë¡œí•„ í•˜ì´ë¼ì´íŠ¸ | 5 | 30ì¼ | ì§€ì› ì‹œ êµ¬ì¸ìì—ê²Œ ìƒë‹¨ í‘œì‹œ + ê°•ì¡° í…Œë‘ë¦¬ |

**í–¥í›„ ê²€í† ** (Phase 2 ì´í›„):
- ì§€ì› ìš°ì„  ì•Œë¦¼: 3/30ì¼ â€” ìƒˆ ê³µê³  30ë¶„ ë¨¼ì € ì•Œë¦¼
- ê²½ë ¥ ì¸ì¦ ë±ƒì§€: 10/ì˜êµ¬ â€” ê´€ë¦¬ì ê²€ì¦ í›„ ì¸ì¦ ë§ˆí¬

### 2.3 ë°¸ëŸ°ìŠ¤ ì‹œë®¬ë ˆì´ì…˜

**êµ¬ì¸ì â€” ë³´í†µ ì‚¬ìš©ì (ì›” 10ê±´ ì¼ë°˜)**:
```
ìˆ˜ì…: ~34 ğŸ’– (ì£¼ 5ì¼ ì ‘ì† + ê³µìœ  + ë¦¬ë·°)
ì§€ì¶œ: 10ê±´ Ã— 1 = 10
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì”ì—¬: +24 â†’ ê¸´ê¸‰ 3ê±´(24) ë˜ëŠ” ê³ ì • 6ê±´(24) ê°€ëŠ¥
âœ… ì¶©ì „ ì—†ì´ ê¸°ë³¸+ì•ŒíŒŒ ì‚¬ìš© ê°€ëŠ¥
```

**êµ¬ì¸ì â€” ìµœì†Œ ì‚¬ìš©ì (ì›” 10ê±´ ì¼ë°˜)**:
```
ìˆ˜ì…: ~10 ğŸ’– (ê°€ë” ì ‘ì†)
ì§€ì¶œ: 10ê±´ Ã— 1 = 10
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì”ì—¬: 0 â†’ ê¸´ê¸‰/ê³ ì • ì“°ë ¤ë©´ ì¶©ì „ or ë” í™œë™
```

**êµ¬ì¸ì â€” í—¤ë¹„ ì‚¬ìš©ì (ì›” 20ê±´ + ê¸´ê¸‰ 5ê±´)**:
```
ìˆ˜ì…: ~77 ğŸ’– (ì ê·¹ í™œë™)
ì§€ì¶œ: 20ê±´ Ã— 1 + 5ê±´ Ã— 8 = 60
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì”ì—¬: +17 â†’ ì ê·¹ í™œë™í•˜ë©´ ë¬´ë£Œ ìœ ì§€ ê°€ëŠ¥
```

**êµ¬ì¸ì â€” ëŒ€ëŸ‰ ì‚¬ìš©ì (ì›” 30ê±´ + ê¸´ê¸‰ 10ê±´)**:
```
ìˆ˜ì…: ~77 ğŸ’– (ì ê·¹ í™œë™ í•œê³„)
ì§€ì¶œ: 30ê±´ Ã— 1 + 10ê±´ Ã— 8 = 110
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ë¶€ì¡±: -33 â†’ ë‹¤ì´ì•„ ì¶©ì „ í•„ìš” (â‚©10,000 íŒ¨í‚¤ì§€)
ğŸ’° ì—¬ê¸°ì„œ ìˆ˜ìµ ë°œìƒ
```

**ìŠ¤íƒœí”„ â€” í”„ë¡œí•„ í•˜ì´ë¼ì´íŠ¸**:
```
ìˆ˜ì…: ~34 ğŸ’– (ë³´í†µ í™œë™)
ì§€ì¶œ: 5 (í•˜ì´ë¼ì´íŠ¸ 1íšŒ)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì”ì—¬: +29 â†’ ì—¬ìœ ë¡œì›€
```

---

## 3. ğŸ’ ë‹¤ì´ì•„ ì¶©ì „ (ìœ ë£Œ)

### ì¶©ì „ íŒ¨í‚¤ì§€ (ìµœì†Œ â‚©3,000)

| ê¸ˆì•¡ | ê¸°ë³¸ | ë³´ë„ˆìŠ¤ | ì´ ë‹¤ì´ì•„ | ìŠ¤í† ì–´ ìƒí’ˆ ID |
|------|:----:|:------:|:---------:|----------------|
| â‚©3,000 | 10 | - | 10 | `com.uniqn.diamond.10` |
| â‚©5,000 | 17 | +1 | 18 (+6%) | `com.uniqn.diamond.18` |
| â‚©10,000 | 33 | +2 | 35 (+6%) | `com.uniqn.diamond.35` |
| â‚©30,000 | 100 | +10 | 110 (+10%) | `com.uniqn.diamond.110` |
| â‚©50,000 | 167 | +23 | 190 (+14%) | `com.uniqn.diamond.190` |
| â‚©100,000 | 333 | +67 | 400 (+20%) | `com.uniqn.diamond.400` |

**ìˆ˜ìˆ˜ë£Œ ë°˜ì˜ ì‹¤ìˆ˜ë ¹**:
| ê¸ˆì•¡ | Apple/Google 30% ê³µì œ | ë‹¤ì´ì•„ë‹¹ ì‹¤ìˆ˜ì… |
|------|:--------------------:|:--------------:|
| â‚©3,000 | â‚©2,100 | â‚©210 |
| â‚©5,000 | â‚©3,500 | â‚©194 |
| â‚©10,000 | â‚©7,000 | â‚©200 |
| â‚©30,000 | â‚©21,000 | â‚©191 |
| â‚©50,000 | â‚©35,000 | â‚©184 |
| â‚©100,000 | â‚©70,000 | â‚©175 |

**ì²« ì¶©ì „ ë³´ë„ˆìŠ¤**: ìµœì´ˆ ê²°ì œ ì‹œ +5ğŸ’ ì¶”ê°€ ì§€ê¸‰

---

## 4. ë¬´ë¶„ë³„ ê³µê³  ë°©ì§€

| ì¥ì¹˜ | ë‚´ìš© |
|------|------|
| ì¬í™” í•„ìˆ˜ | ğŸ’– or ğŸ’ ì—†ì´ ê³µê³  ë“±ë¡ ë¶ˆê°€ â†’ í™œë™ ì—†ëŠ” ê³„ì • ì°¨ë‹¨ |
| ì¼ì¼ í•˜íŠ¸ ìƒí•œ | í•˜ë£¨ ìµœëŒ€ ~5ğŸ’– â†’ ë¬´í•œ ë²Œê¸° ë¶ˆê°€ |
| ì¼ì¼ ë“±ë¡ ì œí•œ | í•˜ë£¨ ìµœëŒ€ 10ê±´ |
| ì¤‘ë³µ ê³µê³  ê°ì§€ | ë™ì¼ ì¥ì†Œ+ë‚ ì§œ ê³µê³  ê²½ê³  |
| ì‹ ê³  íŒ¨ë„í‹° | í—ˆìœ„ ê³µê³  3íšŒ ê²½ê³ , 5íšŒ â†’ 7ì¼ ë“±ë¡ ì •ì§€ |
| ë³¸ì¸ì¸ì¦ í•„ìˆ˜ | ê³µê³  ë“±ë¡ ì‹œ ë³¸ì¸ì¸ì¦ ì™„ë£Œ í•„ìš” |

**ìŠ¤íŒ¸ ì‹œë‚˜ë¦¬ì˜¤ ë¶„ì„**:
```
ìŠ¤íŒ¨ë¨¸ê°€ ëŒ€ëŸ‰ ê³µê³ ë¥¼ ì˜¬ë¦¬ë ¤ë©´:
- ë§¤ì¼ ì ‘ì†í•´ë„ ì›” ~30ğŸ’– = ì¼ë°˜ 30ê±´ì´ í•œê³„
- ê¸´ê¸‰/ê³ ì •ì€ í•˜íŠ¸ ì†Œëª¨ í¬ë¯€ë¡œ ì œí•œì 
- ê·¸ ì´ìƒì€ ëˆì„ ì¨ì•¼ í•¨ (â‚©3,000 = 10ê±´ ì¶”ê°€)
- ë³¸ì¸ì¸ì¦ + ì‹ ê³  íŒ¨ë„í‹°ë¡œ ì´ì¤‘ ì°¨ë‹¨
â†’ ê²½ì œì  + í–‰ë™ì  ì–µì œ íš¨ê³¼
```

---

## 5. ì¬í™” ê·œì¹™

### ìœ í˜•ë³„ ì •ì±…

| ìœ í˜• | ë§Œë£Œ | í™˜ë¶ˆ | ìš°ì„  ì‚¬ìš© |
|------|------|------|----------|
| ğŸ’– í™œë™ í•˜íŠ¸ | ë¬´ê¸°í•œ | ë¶ˆê°€ | **1ìˆœìœ„** |
| ğŸ’– í”„ë¡œëª¨ì…˜ í•˜íŠ¸ (ì¼íšŒì„± ë³´ë„ˆìŠ¤) | 60~90ì¼ | ë¶ˆê°€ | **1ìˆœìœ„** (ë§Œë£Œ ì„ë°• ìˆœ) |
| ğŸ’ ë‹¤ì´ì•„ | ë¬´ê¸°í•œ | 7ì¼ ì´ë‚´ ê°€ëŠ¥ | 2ìˆœìœ„ |

### ì‚¬ìš© ìš°ì„ ìˆœìœ„
```
1. í”„ë¡œëª¨ì…˜ í•˜íŠ¸ (ë§Œë£Œ ì„ë°• ìˆœ)
2. í™œë™ í•˜íŠ¸
3. ğŸ’ ë‹¤ì´ì•„
```

### ì‹ ê·œ ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤

**ìƒˆ êµ¬ì¸ì**:
```
ê°€ì…
â”œâ”€ í”„ë¡œí•„ ì™„ì„±: +5ğŸ’– (í”„ë¡œëª¨ì…˜, 90ì¼)
â”œâ”€ ë³¸ì¸ì¸ì¦: +5ğŸ’– (í”„ë¡œëª¨ì…˜, 90ì¼)
â”œâ”€ ì²« ê³µê³  ë“±ë¡: +3ğŸ’– (í”„ë¡œëª¨ì…˜, 90ì¼)
â””â”€ ë§¤ì¼ ì ‘ì† 3ì¼: +3ğŸ’– (í™œë™)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì²« ì£¼ í•©ê³„: 16ğŸ’– â†’ ì¼ë°˜ ê³µê³  16ê±´ ë“±ë¡ ê°€ëŠ¥
ì¶©ì „ ì—†ì´ ì¶©ë¶„í•œ ì²´í—˜ â†’ ì§€ì† ì‚¬ìš© ìœ ë„
```

**ìƒˆ ìŠ¤íƒœí”„**:
```
ê°€ì…
â”œâ”€ í”„ë¡œí•„ ì™„ì„±: +5ğŸ’– (í”„ë¡œëª¨ì…˜, 90ì¼)
â”œâ”€ ë³¸ì¸ì¸ì¦: +5ğŸ’– (í”„ë¡œëª¨ì…˜, 90ì¼)
â”œâ”€ ì²« ì§€ì›: +3ğŸ’– (í”„ë¡œëª¨ì…˜, 90ì¼)
â””â”€ ë§¤ì¼ ì ‘ì† 3ì¼: +3ğŸ’– (í™œë™)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì²« ì£¼ í•©ê³„: 16ğŸ’– â†’ í”„ë¡œí•„ í•˜ì´ë¼ì´íŠ¸(5) + ì—¬ìœ  11ğŸ’–
```

---

## 6. Firestore ì»¬ë ‰ì…˜

### heartBalances/{userId}
```typescript
{
  userId: string;
  hearts: number;                      // í™œë™ í•˜íŠ¸ (ë¬´ê¸°í•œ)
  promoHearts: PromoHeartSlot[];       // í”„ë¡œëª¨ì…˜ í•˜íŠ¸ (ë§Œë£Œ ìˆìŒ)
  totalHearts: number;                 // hearts + ìœ íš¨ promo í•©ê³„ (ìºì‹œ)
  totalEarned: number;                 // ëˆ„ì  í™œë™ íšë“ëŸ‰
  totalSpent: number;                  // ëˆ„ì  í•˜íŠ¸ ì‚¬ìš©ëŸ‰
  // ì¼ì¼ ë³´ìƒ ì¶”ì 
  lastLoginRewardAt: Timestamp | null;
  lastShareRewardAt: Timestamp | null;
  dailyReviewCount: number;
  dailyReviewResetAt: Timestamp;
  // ì—°ì† ì ‘ì†
  loginStreak: number;
  lastLoginDate: string;              // YYYY-MM-DD
  createdAt: Timestamp;
  updatedAt: Timestamp;
}

interface PromoHeartSlot {
  amount: number;
  reason: 'signup_profile' | 'signup_verify' | 'first_posting' | 'first_apply'
        | 'referral' | 'event';
  expiresAt: Timestamp;
  createdAt: Timestamp;
}
```

### diamondBalances/{userId}
```typescript
{
  userId: string;
  diamonds: number;                    // ìœ ë£Œ ë‹¤ì´ì•„ (ë¬´ê¸°í•œ)
  totalPurchased: number;              // ëˆ„ì  ì¶©ì „ëŸ‰
  totalSpent: number;                  // ëˆ„ì  ë‹¤ì´ì•„ ì‚¬ìš©ëŸ‰
  createdAt: Timestamp;
  updatedAt: Timestamp;
}
```

### currencyTransactions/{txId}
```typescript
{
  id: string;
  userId: string;
  currency: 'heart' | 'diamond';
  type: 'earn' | 'spend' | 'promo_grant' | 'promo_expire' | 'purchase' | 'refund';
  amount: number;                      // ì–‘ìˆ˜=íšë“, ìŒìˆ˜=ì†Œëª¨
  source?: 'login' | 'share' | 'review' | 'streak_7' | 'streak_30'
         | 'profile_complete' | 'identity_verify' | 'first_posting'
         | 'first_apply' | 'first_purchase' | 'referral';
  description: string;
  relatedEntityId?: string;
  relatedEntityType?: 'jobPosting' | 'purchase' | 'promo' | 'staffPremium' | 'review';
  balanceAfter: {
    hearts: number;
    promoHearts: number;
    diamonds: number;
    total: number;                     // hearts + promoHearts + diamonds
  };
  createdAt: Timestamp;
}
```

### purchases/{purchaseId}
```typescript
{
  id: string;
  userId: string;
  productId: string;                   // com.uniqn.diamond.35
  transactionId: string;               // RevenueCat ê±°ë˜ ID (ì¤‘ë³µ ë°©ì§€)
  price: number;                       // â‚©10,000
  diamondsGranted: number;             // 35 (ë³´ë„ˆìŠ¤ í¬í•¨)
  bonusDiamonds: number;               // 2
  isFirstPurchase: boolean;            // ì²« ê²°ì œ ì—¬ë¶€ (ë³´ë„ˆìŠ¤ +5ğŸ’)
  platform: 'ios' | 'android';
  status: 'pending' | 'completed' | 'failed' | 'refunded';
  createdAt: Timestamp;
  completedAt?: Timestamp;
}
```

---

## 7. Firestore Security Rules

```javascript
match /heartBalances/{userId} {
  allow read: if isSignedIn() && isOwner(userId);
  allow write: if false;
}

match /diamondBalances/{userId} {
  allow read: if isSignedIn() && isOwner(userId);
  allow write: if false;
}

match /currencyTransactions/{txId} {
  allow read: if isSignedIn() && request.auth.uid == resource.data.userId;
  allow write: if false;
}

match /purchases/{purchaseId} {
  allow read: if isSignedIn() && request.auth.uid == resource.data.userId;
  allow write: if false;
}
```

---

## 8. ë°ì´í„° íë¦„

### 8.1 ì¼ì¼ ì ‘ì† ë³´ìƒ í”Œë¡œìš°
```
1. ì•± ì‹¤í–‰ (foreground)
2. heartRewardService.claimLoginReward(userId)
   â”œâ”€ lastLoginRewardAtì´ ì˜¤ëŠ˜ì¸ì§€ í™•ì¸
   â”œâ”€ ì´ë¯¸ ë°›ì•˜ìœ¼ë©´ â†’ skip
   â”œâ”€ ì•ˆ ë°›ì•˜ìœ¼ë©´ â†’ hearts + 1
   â”œâ”€ ì—°ì† ì ‘ì† íŒì • (lastLoginDate == ì–´ì œ?)
   â”‚   â”œâ”€ ì—°ì†ì´ë©´ â†’ loginStreak++
   â”‚   â”‚   â”œâ”€ loginStreak == 7 â†’ +3ğŸ’– ë³´ë„ˆìŠ¤
   â”‚   â”‚   â””â”€ loginStreak == 30 â†’ +10ğŸ’– ë³´ë„ˆìŠ¤, streak ë¦¬ì…‹
   â”‚   â””â”€ ëŠê²¼ìœ¼ë©´ â†’ loginStreak = 1
   â””â”€ íŠ¸ëœì­ì…˜ ê¸°ë¡
3. UI: ì ‘ì† ë³´ìƒ í† ìŠ¤íŠ¸ + ì”ì•¡ ê°±ì‹ 
```

### 8.2 ê³µìœ  ë³´ìƒ í”Œë¡œìš°
```
1. ê³µê³  ê³µìœ  ë²„íŠ¼ í´ë¦­
2. Share API í˜¸ì¶œ (ì¹´ì¹´ì˜¤í†¡/ì¸ìŠ¤íƒ€ ë“±)
3. ê³µìœ  ì™„ë£Œ í™•ì¸ â†’ heartRewardService.claimShareReward(userId)
   â”œâ”€ lastShareRewardAtì´ ì˜¤ëŠ˜ì¸ì§€ í™•ì¸
   â”œâ”€ ì´ë¯¸ ë°›ì•˜ìœ¼ë©´ â†’ skip (ì¼ 1íšŒ)
   â””â”€ ì•ˆ ë°›ì•˜ìœ¼ë©´ â†’ hearts + 1
4. ë³´ìƒ í† ìŠ¤íŠ¸
```

### 8.3 ë¦¬ë·° ë³´ìƒ í”Œë¡œìš°
```
1. ê·¼ë¬´ ì™„ë£Œ í›„ ë¦¬ë·°/í‰ê°€ ì‘ì„±
2. ë¦¬ë·° ì €ì¥ ì„±ê³µ â†’ heartRewardService.claimReviewReward(userId)
   â”œâ”€ dailyReviewCount < 2 í™•ì¸
   â”œâ”€ ìƒí•œ ì´ˆê³¼ â†’ skip (ì¼ 2íšŒ)
   â””â”€ ì—¬ìœ  ìˆìœ¼ë©´ â†’ hearts + 1, dailyReviewCount++
3. ë³´ìƒ í† ìŠ¤íŠ¸
```

### 8.4 ê³µê³  ë“±ë¡ í”Œë¡œìš°
```
1. ê³µê³  ë“±ë¡ ë²„íŠ¼ í´ë¦­
2. billingGateService.validateAndDeduct(userId, postingType)
   â”œâ”€ Feature Flag í™•ì¸ (enable_billing=false â†’ ë¬´ë£Œ í†µê³¼)
   â”œâ”€ í•„ìš” ì¬í™” ê³„ì‚° (postingType â†’ cost)
   â”œâ”€ ì‚¬ìš© ìš°ì„ ìˆœìœ„: í”„ë¡œëª¨ì…˜ í•˜íŠ¸ â†’ í™œë™ í•˜íŠ¸ â†’ ë‹¤ì´ì•„
   â”œâ”€ ì”ì•¡(í•˜íŠ¸+ë‹¤ì´ì•„) ë¶€ì¡± â†’ InsufficientCurrencyError
   â”‚   â””â”€ UI: "ì”ì•¡ì´ ë¶€ì¡±í•©ë‹ˆë‹¤" + í™œë™/ì¶©ì „ ì•ˆë‚´
   â””â”€ ì°¨ê° ì„±ê³µ (í•˜íŠ¸/ë‹¤ì´ì•„ í˜¼í•© ê°€ëŠ¥)
3. jobManagementService.createJobPosting()
4. ì„±ê³µ: í† ìŠ¤íŠ¸ + ì”ì•¡ UI ê°±ì‹ 
```

### 8.5 ë‹¤ì´ì•„ ì¶©ì „ í”Œë¡œìš°
```
1. ì¶©ì „ íŒ¨í‚¤ì§€ ì„ íƒ
2. RevenueCat SDK ê²°ì œ ì‹œì‘
3. ìŠ¤í† ì–´ ê²°ì œ ì™„ë£Œ â†’ RevenueCat Webhook
4. Cloud Functions: ì˜ìˆ˜ì¦ ê²€ì¦ + ë‹¤ì´ì•„ ì§€ê¸‰ (íŠ¸ëœì­ì…˜)
   â”œâ”€ isFirstPurchase â†’ ì¶”ê°€ +5ğŸ’ ì§€ê¸‰
   â””â”€ balanceAfter ê¸°ë¡
5. í´ë¼ì´ì–¸íŠ¸: queryClient.invalidateQueries â†’ ì”ì•¡ ê°±ì‹ 
6. ì„±ê³µ í† ìŠ¤íŠ¸
```

### 8.6 í˜¼í•© ê²°ì œ ì˜ˆì‹œ
```
ê¸´ê¸‰ ê³µê³  ë“±ë¡ (ë¹„ìš©: 8)
ì‚¬ìš©ì ì”ì•¡: ğŸ’– 5 (í•˜íŠ¸) + ğŸ’ 10 (ë‹¤ì´ì•„)

ì°¨ê° ìˆœì„œ:
  1. í”„ë¡œëª¨ì…˜ í•˜íŠ¸: 0 (ì—†ìŒ)
  2. í™œë™ í•˜íŠ¸: 5ğŸ’– ì°¨ê° â†’ ë‚¨ì€ ë¹„ìš© 3
  3. ë‹¤ì´ì•„: 3ğŸ’ ì°¨ê°

ê²°ê³¼: ğŸ’– 0 + ğŸ’ 7
```

### 8.7 ë‚™ê´€ì  ì—…ë°ì´íŠ¸ vs ì„œë²„ ì‘ë‹µ
- **í•˜íŠ¸ ë³´ìƒ**: ë‚™ê´€ì  ì—…ë°ì´íŠ¸ (í† ìŠ¤íŠ¸ ì¦‰ì‹œ) + ì„œë²„ í™•ì¸
- **ì¶©ì „**: ì„œë²„ ì‘ë‹µ ëŒ€ê¸° (ê²°ì œ ì‹¤íŒ¨ ì‹œ ë¡¤ë°± ë°©ì§€)
- **ì‚¬ìš©**: ì„œë²„ ì‘ë‹µ ëŒ€ê¸° (íŠ¸ëœì­ì…˜ ì •í•©ì„±)
- **ì”ì•¡ ì¡°íšŒ**: ìºì‹œ ì‚¬ìš© (staleTime: 30ì´ˆ)

---

## 9. ì—ëŸ¬ ì²˜ë¦¬

### ì—ëŸ¬ ì½”ë“œ (E8xxx)
```typescript
BILLING_INSUFFICIENT_CURRENCY = 'E8001'   // ì”ì•¡ ë¶€ì¡± (í•˜íŠ¸+ë‹¤ì´ì•„)
BILLING_PURCHASE_FAILED = 'E8002'         // ê²°ì œ ì‹¤íŒ¨
BILLING_PURCHASE_DUPLICATE = 'E8003'      // ì¤‘ë³µ ê²°ì œ
BILLING_DEDUCTION_FAILED = 'E8004'        // ì°¨ê° ì‹¤íŒ¨
BILLING_REFUND_NOT_ALLOWED = 'E8005'      // í™˜ë¶ˆ ë¶ˆê°€
BILLING_DAILY_LIMIT_EXCEEDED = 'E8006'    // ì¼ì¼ ë“±ë¡ ì œí•œ ì´ˆê³¼
BILLING_POSTING_SUSPENDED = 'E8007'       // ì‹ ê³  ëˆ„ì ìœ¼ë¡œ ì •ì§€
BILLING_REWARD_ALREADY_CLAIMED = 'E8008'  // ì´ë¯¸ ë³´ìƒ ìˆ˜ë ¹ (ì¼ì¼ ìƒí•œ)
```

### ì‚¬ìš©ì ë©”ì‹œì§€
```typescript
E8001: 'ì”ì•¡ì´ ë¶€ì¡±í•©ë‹ˆë‹¤. í™œë™í•˜ê±°ë‚˜ ë‹¤ì´ì•„ë¥¼ ì¶©ì „í•´ì£¼ì„¸ìš”.'
E8002: 'ê²°ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.'
E8003: 'ì´ë¯¸ ì²˜ë¦¬ëœ ê²°ì œì…ë‹ˆë‹¤.'
E8006: 'í•˜ë£¨ ë“±ë¡ ê°€ëŠ¥í•œ ê³µê³  ìˆ˜(10ê±´)ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤.'
E8007: 'ì‹ ê³  ëˆ„ì ìœ¼ë¡œ ê³µê³  ë“±ë¡ì´ ì¼ì‹œ ì •ì§€ë˜ì—ˆìŠµë‹ˆë‹¤.'
E8008: 'ì˜¤ëŠ˜ ë³´ìƒì„ ì´ë¯¸ ë°›ì•˜ìŠµë‹ˆë‹¤.'
```

---

## 10. Feature Flag

```typescript
enable_billing: boolean;              // ë§ˆìŠ¤í„° ìŠ¤ìœ„ì¹˜ (false â†’ ì „ì²´ ë¬´ë£Œ)
enable_heart_rewards: boolean;        // í•˜íŠ¸ ë³´ìƒ ì‹œìŠ¤í…œ
enable_staff_premium: boolean;        // ìŠ¤íƒœí”„ í”„ë¦¬ë¯¸ì—„ ê¸°ëŠ¥
```

**ì¶œì‹œ ì‹œ ì„¤ì •**:
```typescript
enable_billing: true          // ì²˜ìŒë¶€í„° ì¬í™” ê²½ì œ í™œì„±í™”
enable_heart_rewards: true    // í•˜íŠ¸ ë³´ìƒ í™œì„±í™”
enable_staff_premium: false   // MVPì—ì„œëŠ” ë¹„í™œì„±
```

---

## 11. ìˆ˜ìµ ì‹œë®¬ë ˆì´ì…˜

### ì „ì œ
```
- í™œë™ í•˜íŠ¸ë¡œ ê¸°ë³¸ ì‚¬ìš© ë¬´ë£Œ, ìœ ë£Œ ì „í™˜ì€ í—¤ë¹„/ë¹„í™œì„± ìœ ì €
- ì¼ë°˜ ê³µê³  1ğŸ’–ì´ë¼ ê¸°ë³¸ ì‚¬ìš©ìëŠ” ì¶©ì „ ë¶ˆí•„ìš”
- ìˆ˜ìµ ë°œìƒ ì§€ì : ëŒ€ëŸ‰ ê³µê³  + ê¸´ê¸‰/ê³ ì • ë‹¤ìˆ˜ ì‚¬ìš©
- êµ¬ì¸ì ìœ ë£Œ ì „í™˜ìœ¨: 15~25%
- ìŠ¤íƒœí”„ ìœ ë£Œ ì „í™˜ìœ¨: 5~10%
```

### ë³´ìˆ˜ì  (êµ¬ì¸ì 100ëª…, ìŠ¤íƒœí”„ 300ëª…)
```
êµ¬ì¸ì:
  ìœ ë£Œ ì „í™˜ 15ëª… Ã— ì›” â‚©5,000 = â‚©75,000
ìŠ¤íƒœí”„:
  ìœ ë£Œ ì „í™˜ 15ëª… Ã— ì›” â‚©3,000 = â‚©45,000
ìŠ¤í† ì–´ ìˆ˜ìˆ˜ë£Œ 30%: -â‚©36,000
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì›” ìˆœìˆ˜ì…: ~â‚©84,000
ì—° ìˆœìˆ˜ì…: ~â‚©1,000,000
```

### í‘œì¤€ (êµ¬ì¸ì 300ëª…, ìŠ¤íƒœí”„ 1,000ëª…)
```
êµ¬ì¸ì:
  ìœ ë£Œ ì „í™˜ 60ëª… Ã— ì›” â‚©10,000 = â‚©600,000
ìŠ¤íƒœí”„:
  ìœ ë£Œ ì „í™˜ 50ëª… Ã— ì›” â‚©3,000 = â‚©150,000
ìŠ¤í† ì–´ ìˆ˜ìˆ˜ë£Œ 30%: -â‚©225,000
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì›” ìˆœìˆ˜ì…: ~â‚©525,000
ì—° ìˆœìˆ˜ì…: ~â‚©6,300,000
```

### ë‚™ê´€ì  (êµ¬ì¸ì 500ëª…, ìŠ¤íƒœí”„ 2,000ëª…)
```
êµ¬ì¸ì:
  ìœ ë£Œ ì „í™˜ 125ëª… Ã— ì›” â‚©15,000 = â‚©1,875,000
ìŠ¤íƒœí”„:
  ìœ ë£Œ ì „í™˜ 200ëª… Ã— ì›” â‚©3,000 = â‚©600,000
ìŠ¤í† ì–´ ìˆ˜ìˆ˜ë£Œ 30%: -â‚©742,500
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì›” ìˆœìˆ˜ì…: ~â‚©1,732,500
ì—° ìˆœìˆ˜ì…: ~â‚©20,790,000
```

---

## 12. êµ¬í˜„ íŒŒì¼ ëª©ë¡

### ì‹ ê·œ ìƒì„±
```
src/types/billing.ts                    # íƒ€ì… ì •ì˜ (Heart, Diamond, Currency)
src/schemas/billingSchema.ts            # Zod ìŠ¤í‚¤ë§ˆ
src/constants/billing.ts                # ê°€ê²©, ë³´ìƒ, ìƒí’ˆ ID ìƒìˆ˜
src/errors/BillingErrors.ts             # ì—ëŸ¬ í´ë˜ìŠ¤

src/repositories/interfaces/ICurrencyRepository.ts
src/repositories/firebase/HeartRepository.ts
src/repositories/firebase/DiamondRepository.ts

src/services/billingGateService.ts      # ê³¼ê¸ˆ ê²Œì´íŠ¸ (í•µì‹¬) â€” í•˜íŠ¸â†’ë‹¤ì´ì•„ ìˆœ ì°¨ê°
src/services/heartRewardService.ts      # í•˜íŠ¸ ë³´ìƒ (ì ‘ì†/ê³µìœ /ë¦¬ë·°/ì—°ì†)
src/services/diamondService.ts          # ë‹¤ì´ì•„ ì¶©ì „/ì¡°íšŒ
src/services/purchaseService.ts         # RevenueCat ì—°ë™

src/stores/billingStore.ts              # Zustand ìŠ¤í† ì–´ (í•˜íŠ¸+ë‹¤ì´ì•„ í†µí•©)
src/hooks/useHearts.ts                  # í•˜íŠ¸ ì”ì•¡/ë³´ìƒ ìƒíƒœ
src/hooks/useDiamonds.ts                # ë‹¤ì´ì•„ ì”ì•¡/ì´ë ¥
src/hooks/useBillingGate.ts             # ê³µê³  ë“±ë¡ ì‹œ ê³¼ê¸ˆ í™•ì¸
src/hooks/useDailyRewards.ts            # ì¼ì¼ ë³´ìƒ ìˆ˜ë ¹

src/components/billing/
â”œâ”€â”€ CurrencyBalance.tsx                 # ğŸ’–+ğŸ’ ì”ì•¡ í‘œì‹œ (í—¤ë”ìš©)
â”œâ”€â”€ DailyRewardBanner.tsx               # ì ‘ì† ë³´ìƒ ë°°ë„ˆ + ì—°ì† ì ‘ì† í‘œì‹œ
â”œâ”€â”€ LoginStreakCard.tsx                  # ì—°ì† ì ‘ì† í˜„í™© ì¹´ë“œ
â”œâ”€â”€ DiamondPackSelector.tsx             # ì¶©ì „ íŒ¨í‚¤ì§€ ì„ íƒ
â”œâ”€â”€ InsufficientCurrencyModal.tsx       # ì”ì•¡ ë¶€ì¡± â†’ í™œë™/ì¶©ì „ ì•ˆë‚´
â”œâ”€â”€ CurrencyHistoryList.tsx             # ì‚¬ìš©/íšë“ ì´ë ¥ (í•˜íŠ¸+ë‹¤ì´ì•„ í†µí•©)
â””â”€â”€ PurchaseOverlay.tsx                 # ê²°ì œ ì§„í–‰ ì˜¤ë²„ë ˆì´

app/(app)/settings/wallet.tsx           # ì§€ê°‘ ê´€ë¦¬ í™”ë©´ (í•˜íŠ¸+ë‹¤ì´ì•„)

functions/src/billing/revenueCatWebhook.ts    # ê²°ì œ ì›¹í›…
functions/src/billing/grantPromoHearts.ts     # í”„ë¡œëª¨ì…˜ í•˜íŠ¸ ì§€ê¸‰
functions/src/scheduled/expirePromoHearts.ts  # í”„ë¡œëª¨ì…˜ í•˜íŠ¸ ë§Œë£Œ
functions/src/scheduled/resetDailyRewards.ts  # ì¼ì¼ ë³´ìƒ ì¹´ìš´í„° ë¦¬ì…‹
```

### ìˆ˜ì • í•„ìš”
```
src/services/jobManagementService.ts    # billingGate í˜¸ì¶œ ì‚½ì…
src/services/featureFlagService.ts      # Feature Flag 3ê°œ ì¶”ê°€
src/constants/index.ts                  # COLLECTIONS 4ê°œ ì¶”ê°€
src/lib/queryClient.ts                  # queryKeysì— hearts, diamonds, rewards ì¶”ê°€
src/errors/BusinessErrors.ts            # ì—ëŸ¬ í´ë˜ìŠ¤ ì¶”ê°€
firestore.rules                         # 4ê°œ ì»¬ë ‰ì…˜ ë³´ì•ˆ ê·œì¹™
```

---

## 13. êµ¬í˜„ ìˆœì„œ

### Phase 1: ì¬í™” ê²½ì œ ê¸°ë°˜ â€” 1ì£¼
```
1. íƒ€ì…/ìŠ¤í‚¤ë§ˆ/ìƒìˆ˜/ì—ëŸ¬ ì •ì˜
2. Feature Flag ì¶”ê°€
3. Firestore ì»¬ë ‰ì…˜ + Security Rules
4. HeartRepository, DiamondRepository êµ¬í˜„
5. heartRewardService (ì ‘ì†/ê³µìœ /ë¦¬ë·°/ì—°ì† ë³´ìƒ)
6. billingGateService (í•˜íŠ¸â†’ë‹¤ì´ì•„ ìˆœ ì°¨ê°)
7. jobManagementServiceì— billingGate ì—°ë™
```

### Phase 2: í”„ë¡ íŠ¸ì—”ë“œ â€” 1ì£¼
```
8. billingStore (Zustand â€” í•˜íŠ¸+ë‹¤ì´ì•„ í†µí•©)
9. useHearts, useDiamonds, useBillingGate, useDailyRewards í›…
10. UI: ì”ì•¡(ğŸ’–+ğŸ’), ì ‘ì† ë³´ìƒ ë°°ë„ˆ, ì—°ì† ì ‘ì†, ë¶€ì¡± ëª¨ë‹¬, ì´ë ¥
11. ì§€ê°‘ ê´€ë¦¬ í™”ë©´
```

### Phase 3: ê²°ì œ ì—°ë™ â€” 1ì£¼
```
12. RevenueCat SDK ì„¤ì¹˜ + ì´ˆê¸°í™”
13. purchaseService, diamondService êµ¬í˜„
14. Cloud Functions (ì›¹í›…, í”„ë¡œëª¨ì…˜ í•˜íŠ¸ ì§€ê¸‰/ë§Œë£Œ, ë³´ìƒ ë¦¬ì…‹)
15. Sandbox í…ŒìŠ¤íŠ¸
```

### Phase 4: ë¶€ê°€ ê¸°ëŠ¥ â€” 1ì£¼
```
16. ìŠ¤íƒœí”„ í”„ë¡œí•„ í•˜ì´ë¼ì´íŠ¸ (enable_staff_premium)
17. ê´€ë¦¬ì ì¬í™” ìˆ˜ë™ ì§€ê¸‰
18. í™˜ë¶ˆ ì²˜ë¦¬
19. Analytics ì´ë²¤íŠ¸ (ì¶©ì „/ë³´ìƒ/ì‚¬ìš© ì¶”ì )
```

---

## 14. í™˜ë¶ˆ ì •ì±…

- ğŸ’ ë‹¤ì´ì•„ë§Œ í™˜ë¶ˆ ê°€ëŠ¥
- ğŸ’– í•˜íŠ¸ (í™œë™/í”„ë¡œëª¨ì…˜): í™˜ë¶ˆ/í˜„ê¸ˆ ì „í™˜ ë¶ˆê°€
- ë¯¸ì‚¬ìš© ë‹¤ì´ì•„: ì¶©ì „ í›„ 7ì¼ ì´ë‚´ ì „ì•¡ í™˜ë¶ˆ
- ì‚¬ìš© í›„: í™˜ë¶ˆ ë¶ˆê°€
- Apple/Google ì§ì ‘ í™˜ë¶ˆ ì‹œ: Cloud Functionsì—ì„œ ë‹¤ì´ì•„ íšŒìˆ˜ (clawback)
  - ì”ì•¡ < íšŒìˆ˜ëŸ‰: ì”ì•¡ 0ìœ¼ë¡œ ì„¤ì • + ë§ˆì´ë„ˆìŠ¤ ê¸°ë¡

---

## 15. ê²€ì¦ ë°©ë²•

```bash
cd uniqn-mobile
npm run type-check   # TypeScript ê²€ì¦
npm run lint         # ESLint
npm run test         # ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
npm run build:web    # ë¹Œë“œ í™•ì¸
```

- `enable_billing=false` â†’ ê¸°ì¡´ ê¸°ëŠ¥ ì˜í–¥ ì—†ëŠ”ì§€ í™•ì¸
- í•˜íŠ¸ ë³´ìƒ: ì ‘ì† â†’ +1ğŸ’–, ì¬ì ‘ì† â†’ ì¤‘ë³µ ì§€ê¸‰ ì—†ìŒ
- ì—°ì† ì ‘ì†: 7ì¼/30ì¼ ë³´ë„ˆìŠ¤ ì •ìƒ ì§€ê¸‰
- í˜¼í•© ê²°ì œ: í•˜íŠ¸ 5 + ë‹¤ì´ì•„ 3 = ë¹„ìš© 8 ì •ìƒ ì°¨ê°
- ê³µê³  ë“±ë¡: ì”ì•¡ ë¶€ì¡± ì‹œ ì°¨ë‹¨ + ì•ˆë‚´ ëª¨ë‹¬
- Sandbox ê²°ì œ â†’ ë‹¤ì´ì•„ ì§€ê¸‰ â†’ ê³µê³  ë“±ë¡ ì „ì²´ í”Œë¡œìš° í…ŒìŠ¤íŠ¸

---

## ì°¸ì¡° íŒŒì¼
- `src/repositories/firebase/ApplicationRepository.ts` - íŠ¸ëœì­ì…˜ íŒ¨í„´
- `src/stores/authStore.ts` - Zustand + MMKV persist
- `src/services/jobManagementService.ts` - ê³µê³  ìƒì„± ë¡œì§
- `src/services/featureFlagService.ts` - Feature Flag ì¸í„°í˜ì´ìŠ¤
- `src/constants/index.ts` - COLLECTIONS ìƒìˆ˜
- `src/lib/queryClient.ts` - Query Keys ê´€ë¦¬
- `src/errors/BusinessErrors.ts` - ì—ëŸ¬ í´ë˜ìŠ¤ íŒ¨í„´
- `firestore.rules` - Security Rules íŒ¨í„´

---

*ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: 2026-02-11*
*ë²„ì „: v4.0 (ğŸ’– í•˜íŠ¸ + ğŸ’ ë‹¤ì´ì•„ ì´ì¤‘ ì¬í™” ì‹œìŠ¤í…œ)*
