<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì•Œë¦¼ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      background: #f5f5f5;
    }
    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 30px;
      border-radius: 10px;
      margin-bottom: 30px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    .category {
      background: white;
      border-radius: 10px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .category-title {
      font-size: 20px;
      font-weight: bold;
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 2px solid #e5e7eb;
    }
    .notification-test {
      background: #f9fafb;
      padding: 15px;
      margin: 10px 0;
      border-radius: 8px;
      border-left: 4px solid #3b82f6;
    }
    .notification-test h4 {
      margin: 0 0 5px 0;
      color: #1f2937;
    }
    .notification-test p {
      margin: 5px 0;
      color: #6b7280;
      font-size: 14px;
    }
    button {
      background: #3b82f6;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      margin-top: 10px;
      transition: background 0.2s;
    }
    button:hover {
      background: #2563eb;
    }
    button:disabled {
      background: #9ca3af;
      cursor: not-allowed;
    }
    .test-all-btn {
      background: #10b981;
      font-size: 16px;
      padding: 12px 24px;
      margin: 20px 0;
    }
    .test-all-btn:hover {
      background: #059669;
    }
    .status {
      padding: 10px;
      margin: 10px 0;
      border-radius: 6px;
      font-size: 14px;
    }
    .status.success {
      background: #d1fae5;
      color: #065f46;
    }
    .status.error {
      background: #fee2e2;
      color: #991b1b;
    }
    .status.info {
      background: #dbeafe;
      color: #1e40af;
    }
    .badge {
      display: inline-block;
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: bold;
      margin-left: 10px;
    }
    .badge.urgent { background: #fee2e2; color: #991b1b; }
    .badge.high { background: #fed7aa; color: #9a3412; }
    .badge.medium { background: #fef3c7; color: #92400e; }
    .badge.low { background: #d1fae5; color: #065f46; }
  </style>
</head>
<body>
  <div class="header">
    <h1>ğŸ”” T-HOLDEM ì•Œë¦¼ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸</h1>
    <p>14ê°€ì§€ ì•Œë¦¼ íƒ€ì…ì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</p>
    <p style="font-size: 14px; opacity: 0.9;">â€» ë¡œê·¸ì¸ í›„ ì‚¬ìš©í•˜ì„¸ìš”</p>
  </div>

  <div id="status"></div>

  <button class="test-all-btn" onclick="testAllNotifications()">ğŸš€ ì „ì²´ ì•Œë¦¼ í…ŒìŠ¤íŠ¸ (14ê°œ)</button>

  <!-- ì‹œìŠ¤í…œ ì•Œë¦¼ -->
  <div class="category">
    <div class="category-title">ğŸ“¢ ì‹œìŠ¤í…œ ì•Œë¦¼ (3ê°œ)</div>

    <div class="notification-test">
      <h4>1. êµ¬ì¸ê³µê³  ì•Œë¦¼<span class="badge high">ë†’ìŒ</span></h4>
      <p>[ì‹ ê·œ êµ¬ì¸] ê°•ë‚¨ í™€ë¤í í† ë„ˆë¨¼íŠ¸</p>
      <p>5ì›” 15ì¼ ê°•ë‚¨ì ì—ì„œ ë”œëŸ¬ 3ëª…ì„ ëª¨ì§‘í•©ë‹ˆë‹¤</p>
      <button onclick="testNotification('job_posting_announcement')">í…ŒìŠ¤íŠ¸</button>
    </div>

    <div class="notification-test">
      <h4>2. ì‹œìŠ¤í…œ ê³µì§€<span class="badge urgent">ê¸´ê¸‰</span></h4>
      <p>[ê¸´ê¸‰ ê³µì§€] 5ì›” íœ´ë¬´ ì•ˆë‚´</p>
      <p>5ì›” 5ì¼ ì–´ë¦°ì´ë‚ ì€ ì „ì²´ íœ´ë¬´ì…ë‹ˆë‹¤</p>
      <button onclick="testNotification('system_announcement')">í…ŒìŠ¤íŠ¸</button>
    </div>

    <div class="notification-test">
      <h4>3. ì•± ì—…ë°ì´íŠ¸<span class="badge medium">ë³´í†µ</span></h4>
      <p>[ì—…ë°ì´íŠ¸] ìƒˆë¡œìš´ ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤</p>
      <p>v0.2.3: ì•Œë¦¼ ì„¼í„° ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤</p>
      <button onclick="testNotification('app_update')">í…ŒìŠ¤íŠ¸</button>
    </div>
  </div>

  <!-- ê·¼ë¬´ ì•Œë¦¼ -->
  <div class="category">
    <div class="category-title">ğŸ’¼ ê·¼ë¬´ ì•Œë¦¼ (3ê°œ)</div>

    <div class="notification-test">
      <h4>4. ì§€ì›ì„œ ì ‘ìˆ˜<span class="badge medium">ë³´í†µ</span></h4>
      <p>[ì§€ì› ì™„ë£Œ] ê°•ë‚¨ì  í† ë„ˆë¨¼íŠ¸ ì§€ì› ì™„ë£Œ</p>
      <p>ê·€í•˜ì˜ ì§€ì›ì„œê°€ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤</p>
      <button onclick="testNotification('job_application')">í…ŒìŠ¤íŠ¸</button>
    </div>

    <div class="notification-test">
      <h4>5. ìŠ¤íƒœí”„ í™•ì •<span class="badge high">ë†’ìŒ</span></h4>
      <p>[í™•ì •] 5ì›” 15ì¼ ê°•ë‚¨ì  ìŠ¤íƒœí”„ í™•ì •</p>
      <p>ì¶•í•˜í•©ë‹ˆë‹¤! ìŠ¤íƒœí”„ë¡œ í™•ì •ë˜ì—ˆìŠµë‹ˆë‹¤</p>
      <button onclick="testNotification('staff_approval')">í…ŒìŠ¤íŠ¸</button>
    </div>

    <div class="notification-test">
      <h4>6. ìŠ¤íƒœí”„ ê±°ì ˆ<span class="badge medium">ë³´í†µ</span></h4>
      <p>[ê±°ì ˆ] 5ì›” 15ì¼ ê°•ë‚¨ì  ì§€ì› ë¶ˆìŠ¹ì¸</p>
      <p>ì•„ì‰½ì§€ë§Œ ì´ë²ˆì—ëŠ” ì„ ì •ë˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤</p>
      <button onclick="testNotification('staff_rejection')">í…ŒìŠ¤íŠ¸</button>
    </div>
  </div>

  <!-- ì¼ì • ì•Œë¦¼ -->
  <div class="category">
    <div class="category-title">ğŸ“… ì¼ì • ì•Œë¦¼ (3ê°œ)</div>

    <div class="notification-test">
      <h4>7. ì¼ì • ë¦¬ë§ˆì¸ë”<span class="badge high">ë†’ìŒ</span></h4>
      <p>[ë¦¬ë§ˆì¸ë”] 1ì‹œê°„ í›„ ê·¼ë¬´ ì‹œì‘</p>
      <p>ì˜¤í›„ 6ì‹œë¶€í„° ê°•ë‚¨ì ì—ì„œ ê·¼ë¬´ê°€ ì‹œì‘ë©ë‹ˆë‹¤</p>
      <button onclick="testNotification('schedule_reminder')">í…ŒìŠ¤íŠ¸</button>
    </div>

    <div class="notification-test">
      <h4>8. ì¼ì • ë³€ê²½<span class="badge urgent">ê¸´ê¸‰</span></h4>
      <p>[ì¼ì • ë³€ê²½] 5ì›” 15ì¼ ê·¼ë¬´ ì‹œê°„ ë³€ê²½</p>
      <p>ê·¼ë¬´ ì‹œì‘ ì‹œê°„ì´ ì˜¤í›„ 5ì‹œë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤</p>
      <button onclick="testNotification('schedule_change')">í…ŒìŠ¤íŠ¸</button>
    </div>

    <div class="notification-test">
      <h4>9. ì¶œì„ ë¦¬ë§ˆì¸ë”<span class="badge high">ë†’ìŒ</span></h4>
      <p>[ì¶œì„ ì²´í¬] ì¶œì„ í™•ì¸ì„ í•´ì£¼ì„¸ìš”</p>
      <p>ì•„ì§ ì¶œì„ ì²´í¬ë¥¼ í•˜ì§€ ì•Šìœ¼ì…¨ìŠµë‹ˆë‹¤</p>
      <button onclick="testNotification('attendance_reminder')">í…ŒìŠ¤íŠ¸</button>
    </div>
  </div>

  <!-- ê¸‰ì—¬ ì•Œë¦¼ -->
  <div class="category">
    <div class="category-title">ğŸ’° ê¸‰ì—¬ ì•Œë¦¼ (2ê°œ)</div>

    <div class="notification-test">
      <h4>10. ê¸‰ì—¬ ì§€ê¸‰<span class="badge high">ë†’ìŒ</span></h4>
      <p>[ê¸‰ì—¬ ì§€ê¸‰] 5ì›” ê¸‰ì—¬ê°€ ì§€ê¸‰ë˜ì—ˆìŠµë‹ˆë‹¤</p>
      <p>ì´ 1,500,000ì›ì´ ì…ê¸ˆë˜ì—ˆìŠµë‹ˆë‹¤</p>
      <button onclick="testNotification('salary_notification')">í…ŒìŠ¤íŠ¸</button>
    </div>

    <div class="notification-test">
      <h4>11. ë³´ë„ˆìŠ¤ ì§€ê¸‰<span class="badge high">ë†’ìŒ</span></h4>
      <p>[ë³´ë„ˆìŠ¤ ì§€ê¸‰] ì„±ê³¼ê¸‰ì´ ì§€ê¸‰ë˜ì—ˆìŠµë‹ˆë‹¤</p>
      <p>ìš°ìˆ˜ ê·¼ë¬´ë¡œ 200,000ì›ì´ ì¶”ê°€ ì§€ê¸‰ë˜ì—ˆìŠµë‹ˆë‹¤</p>
      <button onclick="testNotification('bonus_notification')">í…ŒìŠ¤íŠ¸</button>
    </div>
  </div>

  <!-- ì†Œì…œ ì•Œë¦¼ -->
  <div class="category">
    <div class="category-title">ğŸ’¬ ì†Œì…œ ì•Œë¦¼ (3ê°œ)</div>

    <div class="notification-test">
      <h4>12. ëŒ“ê¸€<span class="badge low">ë‚®ìŒ</span></h4>
      <p>[ëŒ“ê¸€] í™ê¸¸ë™ë‹˜ì´ ëŒ“ê¸€ì„ ë‚¨ê²¼ìŠµë‹ˆë‹¤</p>
      <p>ì¢‹ì€ ì •ë³´ ê°ì‚¬í•©ë‹ˆë‹¤!</p>
      <button onclick="testNotification('comment')">í…ŒìŠ¤íŠ¸</button>
    </div>

    <div class="notification-test">
      <h4>13. ì¢‹ì•„ìš”<span class="badge low">ë‚®ìŒ</span></h4>
      <p>[ì¢‹ì•„ìš”] ê¹€ì² ìˆ˜ë‹˜ì´ ì¢‹ì•„ìš”ë¥¼ ëˆŒë €ìŠµë‹ˆë‹¤</p>
      <p>ê·€í•˜ì˜ ê²Œì‹œê¸€ì— ì¢‹ì•„ìš”ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤</p>
      <button onclick="testNotification('like')">í…ŒìŠ¤íŠ¸</button>
    </div>

    <div class="notification-test">
      <h4>14. ë©˜ì…˜<span class="badge medium">ë³´í†µ</span></h4>
      <p>[ë©˜ì…˜] ì´ì˜í¬ë‹˜ì´ íšŒì›ë‹˜ì„ ì–¸ê¸‰í–ˆìŠµë‹ˆë‹¤</p>
      <p>@í™ê¸¸ë™ ì´ ì •ë³´ ì°¸ê³ í•˜ì„¸ìš”</p>
      <button onclick="testNotification('mention')">í…ŒìŠ¤íŠ¸</button>
    </div>
  </div>

  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js';
    import { getAuth } from 'https://www.gstatic.com/firebasejs/11.0.2/firebase-auth.js';
    import { getFirestore, collection, addDoc, serverTimestamp } from 'https://www.gstatic.com/firebasejs/11.0.2/firebase-firestore.js';

    // Firebase ì„¤ì •
    const firebaseConfig = {
      apiKey: "AIzaSyDa38L08uj0VtJdQBYfWCIZA3j_B6K8xFc",
      authDomain: "tholdem-ebc18.firebaseapp.com",
      projectId: "tholdem-ebc18",
      storageBucket: "tholdem-ebc18.firebasestorage.app",
      messagingSenderId: "390692126472",
      appId: "1:390692126472:web:b88bbc6c6f5c5fcce1fc98"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    // ì•Œë¦¼ ë°ì´í„° ì •ì˜
    const notificationData = {
      job_posting_announcement: {
        type: 'job_posting_announcement',
        category: 'system',
        priority: 'high',
        title: '[ì‹ ê·œ êµ¬ì¸] ê°•ë‚¨ í™€ë¤í í† ë„ˆë¨¼íŠ¸',
        body: '5ì›” 15ì¼ ê°•ë‚¨ì ì—ì„œ ë”œëŸ¬ 3ëª…ì„ ëª¨ì§‘í•©ë‹ˆë‹¤',
        action: { type: 'navigate', target: '/app/my-schedule' },
        relatedId: 'test-job-posting-123',
        data: {}
      },
      system_announcement: {
        type: 'system_announcement',
        category: 'system',
        priority: 'urgent',
        title: '[ê¸´ê¸‰ ê³µì§€] 5ì›” íœ´ë¬´ ì•ˆë‚´',
        body: '5ì›” 5ì¼ ì–´ë¦°ì´ë‚ ì€ ì „ì²´ íœ´ë¬´ì…ë‹ˆë‹¤',
        action: { type: 'navigate', target: '/app/announcements' },
        relatedId: null,
        data: {}
      },
      app_update: {
        type: 'app_update',
        category: 'system',
        priority: 'medium',
        title: '[ì—…ë°ì´íŠ¸] ìƒˆë¡œìš´ ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤',
        body: 'v0.2.3: ì•Œë¦¼ ì„¼í„° ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤',
        action: { type: 'navigate', target: '/app/settings' },
        relatedId: null,
        data: { version: '0.2.3' }
      },
      job_application: {
        type: 'job_application',
        category: 'work',
        priority: 'medium',
        title: '[ì§€ì› ì™„ë£Œ] ê°•ë‚¨ì  í† ë„ˆë¨¼íŠ¸ ì§€ì› ì™„ë£Œ',
        body: 'ê·€í•˜ì˜ ì§€ì›ì„œê°€ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤',
        action: { type: 'navigate', target: '/app/my-applications' },
        relatedId: 'test-application-456',
        data: {}
      },
      staff_approval: {
        type: 'staff_approval',
        category: 'work',
        priority: 'high',
        title: '[í™•ì •] 5ì›” 15ì¼ ê°•ë‚¨ì  ìŠ¤íƒœí”„ í™•ì •',
        body: 'ì¶•í•˜í•©ë‹ˆë‹¤! ìŠ¤íƒœí”„ë¡œ í™•ì •ë˜ì—ˆìŠµë‹ˆë‹¤',
        action: { type: 'navigate', target: '/app/my-schedule' },
        relatedId: 'test-event-789',
        data: { eventDate: '2025-05-15' }
      },
      staff_rejection: {
        type: 'staff_rejection',
        category: 'work',
        priority: 'medium',
        title: '[ê±°ì ˆ] 5ì›” 15ì¼ ê°•ë‚¨ì  ì§€ì› ë¶ˆìŠ¹ì¸',
        body: 'ì•„ì‰½ì§€ë§Œ ì´ë²ˆì—ëŠ” ì„ ì •ë˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤',
        action: { type: 'navigate', target: '/app/job-postings' },
        relatedId: 'test-event-790',
        data: {}
      },
      schedule_reminder: {
        type: 'schedule_reminder',
        category: 'schedule',
        priority: 'high',
        title: '[ë¦¬ë§ˆì¸ë”] 1ì‹œê°„ í›„ ê·¼ë¬´ ì‹œì‘',
        body: 'ì˜¤í›„ 6ì‹œë¶€í„° ê°•ë‚¨ì ì—ì„œ ê·¼ë¬´ê°€ ì‹œì‘ë©ë‹ˆë‹¤',
        action: { type: 'navigate', target: '/app/my-schedule' },
        relatedId: 'test-schedule-111',
        data: { scheduleTime: '18:00' }
      },
      schedule_change: {
        type: 'schedule_change',
        category: 'schedule',
        priority: 'urgent',
        title: '[ì¼ì • ë³€ê²½] 5ì›” 15ì¼ ê·¼ë¬´ ì‹œê°„ ë³€ê²½',
        body: 'ê·¼ë¬´ ì‹œì‘ ì‹œê°„ì´ ì˜¤í›„ 5ì‹œë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤',
        action: { type: 'navigate', target: '/app/my-schedule' },
        relatedId: 'test-schedule-222',
        data: { oldTime: '18:00', newTime: '17:00' }
      },
      attendance_reminder: {
        type: 'attendance_reminder',
        category: 'schedule',
        priority: 'high',
        title: '[ì¶œì„ ì²´í¬] ì¶œì„ í™•ì¸ì„ í•´ì£¼ì„¸ìš”',
        body: 'ì•„ì§ ì¶œì„ ì²´í¬ë¥¼ í•˜ì§€ ì•Šìœ¼ì…¨ìŠµë‹ˆë‹¤',
        action: { type: 'navigate', target: '/app/attendance' },
        relatedId: 'test-attendance-333',
        data: {}
      },
      salary_notification: {
        type: 'salary_notification',
        category: 'finance',
        priority: 'high',
        title: '[ê¸‰ì—¬ ì§€ê¸‰] 5ì›” ê¸‰ì—¬ê°€ ì§€ê¸‰ë˜ì—ˆìŠµë‹ˆë‹¤',
        body: 'ì´ 1,500,000ì›ì´ ì…ê¸ˆë˜ì—ˆìŠµë‹ˆë‹¤',
        action: { type: 'navigate', target: '/app/payroll' },
        relatedId: 'test-salary-444',
        data: { amount: 1500000, month: '2025-05' }
      },
      bonus_notification: {
        type: 'bonus_notification',
        category: 'finance',
        priority: 'high',
        title: '[ë³´ë„ˆìŠ¤ ì§€ê¸‰] ì„±ê³¼ê¸‰ì´ ì§€ê¸‰ë˜ì—ˆìŠµë‹ˆë‹¤',
        body: 'ìš°ìˆ˜ ê·¼ë¬´ë¡œ 200,000ì›ì´ ì¶”ê°€ ì§€ê¸‰ë˜ì—ˆìŠµë‹ˆë‹¤',
        action: { type: 'navigate', target: '/app/payroll' },
        relatedId: 'test-bonus-555',
        data: { amount: 200000 }
      },
      comment: {
        type: 'comment',
        category: 'social',
        priority: 'low',
        title: '[ëŒ“ê¸€] í™ê¸¸ë™ë‹˜ì´ ëŒ“ê¸€ì„ ë‚¨ê²¼ìŠµë‹ˆë‹¤',
        body: 'ì¢‹ì€ ì •ë³´ ê°ì‚¬í•©ë‹ˆë‹¤!',
        action: { type: 'navigate', target: '/app/posts/test-post-666' },
        relatedId: 'test-post-666',
        data: { commenterId: 'user-123', commenterName: 'í™ê¸¸ë™' }
      },
      like: {
        type: 'like',
        category: 'social',
        priority: 'low',
        title: '[ì¢‹ì•„ìš”] ê¹€ì² ìˆ˜ë‹˜ì´ ì¢‹ì•„ìš”ë¥¼ ëˆŒë €ìŠµë‹ˆë‹¤',
        body: 'ê·€í•˜ì˜ ê²Œì‹œê¸€ì— ì¢‹ì•„ìš”ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤',
        action: { type: 'navigate', target: '/app/posts/test-post-777' },
        relatedId: 'test-post-777',
        data: { likerId: 'user-456', likerName: 'ê¹€ì² ìˆ˜' }
      },
      mention: {
        type: 'mention',
        category: 'social',
        priority: 'medium',
        title: '[ë©˜ì…˜] ì´ì˜í¬ë‹˜ì´ íšŒì›ë‹˜ì„ ì–¸ê¸‰í–ˆìŠµë‹ˆë‹¤',
        body: '@í™ê¸¸ë™ ì´ ì •ë³´ ì°¸ê³ í•˜ì„¸ìš”',
        action: { type: 'navigate', target: '/app/posts/test-post-888' },
        relatedId: 'test-post-888',
        data: { mentionerId: 'user-789', mentionerName: 'ì´ì˜í¬' }
      }
    };

    // ë‹¨ì¼ ì•Œë¦¼ í…ŒìŠ¤íŠ¸
    window.testNotification = async function(type) {
      const user = auth.currentUser;
      if (!user) {
        showStatus('error', 'âŒ ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤. ì•±ì—ì„œ ë¡œê·¸ì¸ í›„ ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš”.');
        return;
      }

      try {
        const data = notificationData[type];
        await addDoc(collection(db, 'notifications'), {
          userId: user.uid,
          ...data,
          isRead: false,
          createdAt: serverTimestamp()
        });
        showStatus('success', `âœ… ${data.title} - ì•Œë¦¼ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!`);
      } catch (error) {
        showStatus('error', `âŒ ì˜¤ë¥˜: ${error.message}`);
      }
    };

    // ì „ì²´ ì•Œë¦¼ í…ŒìŠ¤íŠ¸
    window.testAllNotifications = async function() {
      const user = auth.currentUser;
      if (!user) {
        showStatus('error', 'âŒ ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤. ì•±ì—ì„œ ë¡œê·¸ì¸ í›„ ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš”.');
        return;
      }

      showStatus('info', 'ğŸš€ 14ê°œì˜ ì•Œë¦¼ì„ ìƒì„±í•˜ëŠ” ì¤‘...');

      let successCount = 0;
      let errorCount = 0;

      for (const [type, data] of Object.entries(notificationData)) {
        try {
          await addDoc(collection(db, 'notifications'), {
            userId: user.uid,
            ...data,
            isRead: false,
            createdAt: serverTimestamp()
          });
          successCount++;
        } catch (error) {
          console.error(`Failed to create ${type}:`, error);
          errorCount++;
        }
      }

      if (errorCount === 0) {
        showStatus('success', `ğŸ‰ ì„±ê³µ! ${successCount}ê°œì˜ ì•Œë¦¼ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ì•±ì—ì„œ í™•ì¸í•˜ì„¸ìš”!`);
      } else {
        showStatus('error', `âš ï¸ ${successCount}ê°œ ì„±ê³µ, ${errorCount}ê°œ ì‹¤íŒ¨`);
      }
    };

    function showStatus(type, message) {
      const statusDiv = document.getElementById('status');
      statusDiv.innerHTML = `<div class="status ${type}">${message}</div>`;
      setTimeout(() => {
        statusDiv.innerHTML = '';
      }, 5000);
    }

    // ì´ˆê¸° ìƒíƒœ í™•ì¸
    auth.onAuthStateChanged((user) => {
      if (user) {
        showStatus('success', `âœ… ë¡œê·¸ì¸ë¨: ${user.email || user.uid}`);
      } else {
        showStatus('info', 'â„¹ï¸ ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤. ì•±ì—ì„œ ë¡œê·¸ì¸ í›„ ì´ í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ì„¸ìš”.');
      }
    });
  </script>
</body>
</html>
